# 190919 R Statistics

## I. ê²€ì •ë°©ë²•

### 1. ì í•©ë„ ê²€ì •

- ë°ì´í„°ì˜ í¬ê¸°ê°€ ì¼ì • ìˆ˜ ì´ìƒì´ë¼ë©´ ë°ì´í„°ê°€ ì •ê·œ ë¶„í¬ë¥¼ ë”°ë¥´ëŠ”ì§€ í™•ì¸

- ë°ì´í„°ê°€ íŠ¹ì • ë¶„í¬ë¥¼ ë”°ë¥´ëŠ”ì§€ ì‚´í´ë³´ê¸° ìœ„í•´ ë¶„í• í‘œë¥¼ ë§Œë“¤ê³ ,  ì¹´ì´ ì œê³± ê²€ì •(Chi Squared Test)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```R
# MASS::survey ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ ê¸€ì”¨ë¥¼ ì™¼ì†ìœ¼ë¡œ ì“°ëŠ” ì‚¬ëŒê³¼ ì˜¤ë¥¸ì†ìœ¼ë¡œ ì“°ëŠ” ì‚¬ëŒì˜ ë¹„ìœ¨ì´ 30% : 70%ì¸ì§€ ì—¬ë¶€ë¥¼ ë¶„ì„

> table(survey$W.Hnd)
> chisq.test(table(survey$W.Hnd), p=c(.3, .7))
#p-value < 0.05ì´ë¯€ë¡œ ê¸€ì”¨ë¥¼ ì™¼ì†ìœ¼ë¡œ ì“°ëŠ” ì‚¬ëŒê³¼ ì˜¤ë¥¸ì†ìœ¼ë¡œ ì“°ëŠ” ì‚¬ëŒì˜ ë¹„ê°€ 30% : 70%ë¼ëŠ” ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•œë‹¤.
```

- ìƒ¤í”¼ë¡œ ìœŒí¬ ê²€ì •Shapiro-Wilk Test
  - í‘œë³¸ì´ ì •ê·œ ë¶„í¬ë¡œë¶€í„° ì¶”ì¶œëœ ê²ƒì¸ì§€ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤. 

- shapiro.test( ) í•¨ìˆ˜ë¥¼ ì‚¬ìš©

- ê·€ë¬´ê°€ì„¤ì€ ì£¼ì–´ì§„ ë°ì´í„°ê°€ ì •ê·œ ë¶„í¬ë¡œë¶€í„°ì˜ í‘œë³¸ì´ë¼ëŠ” ê²ƒì´ë‹¤.

![1568869057107](190919%20R%20Statistics.assets/1568869057107.png)

```R
> shapiro.test(rnorm(1000))

	Shapiro-Wilk normality test

data:  rnorm(1000)
W = 0.99938, p-value = 0.9896
```



### 2. ì½œëª¨ê³ ë¡œí”„ ìŠ¤ë¯¸ë¥´ë…¸í”„ ê²€ì •(K-S Test)

- ë°ì´í„°ì˜ ëˆ„ì  ë¶„í¬ í•¨ìˆ˜ì™€ ë¹„êµí•˜ê³ ì í•˜ëŠ” ë¶„í¬ì˜ ëˆ„ì  ë¶„í¬ í•¨ìˆ˜(Cumulative Distribution Function) ê°„ì˜ ìµœëŒ€ ê±°ë¦¬ë¥¼ í†µê³„ëŸ‰ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê°€ì„¤ ê²€ì • ë°©ë²• 

![1568869142177](190919%20R%20Statistics.assets/1568869142177.png)

![1568869145888](190919%20R%20Statistics.assets/1568869145888.png)

```R
#ì •ê·œ ë¶„í¬ë¥¼ ë”°ë¥´ëŠ” ë‘ ë‚œìˆ˜ ë°ì´í„° ê°„ì— ë¶„í¬ê°€ ë™ì¼í•œì§€ë¥¼ ì‚´í´ë³¸ ì˜ˆ
> ks.test(rnorm(100), rnorm(100))

	Two-sample Kolmogorov-Smirnov test

data:  rnorm(100) and rnorm(100)
D = 0.11, p-value = 0.5806
alternative hypothesis: two-sided
# p-value > 0.05ì´ë¯€ë¡œ ë‘ ë‚œìˆ˜ê°€ ê°™ì€ ë¶„í¬ë¼ëŠ” ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ì—†ë‹¤


> ks.test(rnorm(100), runif(100))

	Two-sample Kolmogorov-Smirnov test

data:  rnorm(100) and runif(100)
D = 0.61, p-value < 2.2e-16
alternative hypothesis: two-sided
# p-valueê°€ 0.05ë³´ë‹¤ ì‘ì•„ ì„œë¡œ ë‹¤ë¥¸ ë¶„í¬ë¡œ íŒë‹¨ë˜ì—ˆë‹¤.


# K-S ê²€ì •ì„ ì‚¬ìš©í•´ ë°ì´í„°ê°€ í‰ê·  0, ë¶„ì‚° 1ì¸ ì •ê·œ ë¶„í¬ë¡œë¶€í„° ë½‘ì€ í‘œë³¸ì¸ì§€ í™•ì¸
> ks.test(rnorm(1000), "pnorm", 0, 1)

	One-sample Kolmogorov-Smirnov test

data:  rnorm(1000)
D = 0.030119, p-value = 0.3245
alternative hypothesis: two-sided
#ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ì—†ì–´, ì£¼ì–´ì§„ rnorm(100)ì€ í‰ê·  0, ë¶„ì‚° 1ì¸ ì •ê·œ ë¶„í¬ë¡œë¶€í„°ì˜ í‘œë³¸ì´ë¼ê³  ê²°ë¡ 
```



### 3. Q-Që„(Q-Q Plot)

- qqnorm(y) : ì£¼ì–´ì§„ ë°ì´í„°ì™€ ì •ê·œ í™•ë¥ ë¶„í¬ë¥¼ ë¹„êµí•˜ëŠ” Q-Që„ë¥¼ ê·¸ë¦°ë‹¤.
- qqplot(x, y) : ë‘ ë°ì´í„° ì…‹ì— ëŒ€í•œ Q-Që„ë¥¼ ê·¸ë¦°ë‹¤.
- qqline(y, distribution=qnorm) : ë°ì´í„°ì™€ ë¶„í¬ë¥¼ ë¹„êµí•´ ì´ë¡ ì ìœ¼ë¡œ ì„±ë¦½í•´ì•¼ í•˜ëŠ” ì§ì„  ê´€ê³„ë¥¼ ê·¸ë¦°ë‹¤.

```R
> x <- rnorm(1000, mean=10, sd=1)
> qqnorm(x)
> qqline(x, lty=2)
# ì§ì„  ê´€ê³„ ì„±ë¦½
```

![1](190919%20R%20Statistics.assets/1.JPG)

![2](190919%20R%20Statistics.assets/2.JPG)



```R
> x <- runif(1000)
> qqnorm(x)
> qqline(x, lwd=2)
# ì§ì„  ê´€ê³„ê°€ ì„±ë¦½í•œë‹¤ í• ì§€ë¼ë„ ë°ì´í„°ì˜ ì¶œì²˜ ë° ë°ì´í„°ê°€ ì •ê·œì„±ì„ ë”°ë¥¼ ì´ìœ ì— ëŒ€í•œ ê³ ë¯¼ì´ í•­ìƒ í•„ìš”í•˜ë‹¤
```

![3](190919%20R%20Statistics.assets/3.JPG)

![4](190919%20R%20Statistics.assets/4.JPG)

```R
# ì •ê·œ í™•ë¥  ê·¸ë¦¼ì´ ì•„ë‹Œ ë¶„í¬ì— ëŒ€í•´ì„œëŠ” qqplot( ) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤
> qqplot(runif(1000, min=1, max=10), 1:10)
```

![5](190919%20R%20Statistics.assets/5.JPG)



----

## II. ì¶”ì •ê³¼ ê²€ì •

- ì¶”ë¡  í†µê³„ ë¶„ì„  

  - ëª¨ì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì¶”ì¶œëœ í‘œë³¸ìœ¼ë¡œë¶€í„° ëª¨ìˆ˜ì™€ ê´€ë ¨ëœ í†µê³„ëŸ‰(statistics)ë“¤ì˜ ê°’ì„ ê³„ì‚°í•˜ê³ , ì´ê²ƒì„ ì´ìš©í•˜ì—¬ ëª¨ì§‘ë‹¨ì˜ íŠ¹ì„±(ëª¨ìˆ˜)ì„ ì•Œì•„ë‚´ëŠ” ê³¼ì •

  - ëª¨ì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì¶”ì¶œí•œ í‘œë³¸ìœ¼ë¡œë¶€í„° ì–»ì€ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ì§‘ë‹¨ì˜ íŠ¹ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’ì„ í™•ë¥ ì ìœ¼ë¡œ ì¶”ì¸¡í•˜ëŠ” ì¶”ì •(estimation)
  - ìœ ì˜ìˆ˜ì¤€ê³¼ í‘œë³¸ì˜ ê²€ì • í†µê³„ëŸ‰ì„ ë¹„êµí•˜ì—¬ í†µê³„ì  ê°€ì„¤ì˜ ì§„ìœ„ë¥¼ ì…ì¦í•˜ëŠ” ê°€ì„¤ ê²€ì •(hypothesis testing)



### 1. ì ì¶”ì •ê³¼ êµ¬ê°„ì¶”ì •

#### 1) ì ì¶”ì •

- í•˜ë‚˜ì˜ ê°’ì„ ì œì‹œí•˜ì—¬ ëª¨ìˆ˜ì˜ ì°¸ê°’ì„ ì¶”ì¸¡í•˜ëŠ” ë°©ë²•
  - ì¶”ì •ê°’ê³¼ ëª¨ìˆ˜ì˜ ì°¸ê°’ ì‚¬ì´ì˜ ì˜¤ì°¨ë²”ìœ„ ì œê³µ ì•ˆí•¨
  - ì  ì¶”ì •ì€ í•˜ë‚˜ì˜ ê°’ê³¼ í‘œë³¸ì— ì˜í•œ ê²€ì • í†µê³„ëŸ‰ì„ ì§ì ‘ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ë©´ ê·€ë¬´ê°€ì„¤ì´ ê¸°ê°ë˜ì§€ë§Œ, ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ ê·€ë¬´ê°€ì„¤ì´ ì±„íƒëœë‹¤. 
  - ì  ì¶”ì • ë°©ì‹ì— ì˜í•œ ê°€ì„¤ ê²€ì •ì€ ê·€ë¬´ê°€ì„¤ì˜ ê¸°ê°ë¥ ì´ ë‚®ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë˜í•œ ê²€ì • í†µê³„ëŸ‰ê³¼ ëª¨ìˆ˜ì˜ ì°¸ê°’ ì‚¬ì´ì˜ ì˜¤ì°¨ë²”ìœ„ë¥¼ í™•ì¸ í•  ìˆ˜ ì—†ë‹¤.

#### 2) êµ¬ê°„ì¶”ì •

- í•˜í•œê°’ê³¼ ìƒí•œê°’ì˜ êµ¬ê°„ì„ ì§€ì • ëª¨ìˆ˜ì˜ ì°¸ê°’ì„ ì¶”ì •í•˜ëŠ” ë°©ë²•

  - ì¶”ì •ê°’ê³¼ ëª¨ìˆ˜ì˜ ì°¸ê°’ ì‚¬ì´ì˜ ì˜¤ì°¨ë²”ìœ„ ì œê³µ
  - êµ¬ê°„ ì¶”ì • ë°©ì‹ìœ¼ë¡œ ê°€ì„¤ì„ ê²€ì •í•  ê²½ìš° ì˜¤ì°¨ë²”ìœ„ì— ì˜í•´ì„œ ê²°ì •ëœ í•˜í•œê°’ê³¼ ìƒí•œê°’ì˜ ì‹ ë¢°êµ¬ê°„ê³¼ ê²€ì • í†µê³„ëŸ‰ì„ ë¹„êµí•˜ì—¬ ê°€ì„¤ì„ ê²€ì • â€“ ì¶”ë¡  í†µê³„ ë¶„ì„ì—ì„œëŠ” êµ¬ê°„ ì¶”ì • ë°©ì‹ì„ ë” ë§ì´ ì´ìš©, ì˜¤ì°¨ë²”ìœ„ëŠ” ëª¨í‘œì¤€í¸ì°¨ê°€ ì•Œë ¤ì§€ì§€ ì•Šì€ ê²½ìš° í‘œë³¸ì˜ í‘œì¤€í¸ì°¨(S)ë¥¼ ì´ìš©í•˜ì—¬ ì¶”ì •í•œë‹¤.

- ëª¨í‰ê· ì˜ êµ¬ê°„ ì¶”ì • 

  - ëª¨ì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì¶”ì¶œëœ í‘œë³¸ìœ¼ë¡œë¶€í„° ëª¨ìˆ˜ì™€ ê´€ë ¨ëœ í†µê³„ëŸ‰(statistics)ë“¤ì˜ ê°’ì„ ê³„ì‚°í•˜ê³ , ì´ê²ƒì„ ì´ìš©í•˜ì—¬ ëª¨ì§‘ë‹¨ì˜ íŠ¹ì„±(ëª¨ìˆ˜)ì„ ì•Œì•„ë‚´ëŠ” ê³¼ì •
  - ëª¨ì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì¶”ì¶œí•œ í‘œë³¸ìœ¼ë¡œë¶€í„° ì–»ì€ ì •ë³´ë¥¼ ì´ìš©í•˜ì—¬ ëª¨ì§‘ë‹¨ì˜ íŠ¹ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’ì„ í™•ë¥ ì ìœ¼ë¡œ ì¶”ì¸¡í•˜ëŠ” ì¶”ì •(estimation)
  - ìœ ì˜ìˆ˜ì¤€ê³¼ í‘œë³¸ì˜ ê²€ì • í†µê³„ëŸ‰ì„ ë¹„êµí•˜ì—¬ í†µê³„ì  ê°€ì„¤ì˜ ì§„ìœ„ë¥¼ ì…ì¦í•˜ëŠ” ê°€ì„¤ ê²€ì •(hypothesis testing)
  - í‘œë³¸í‰ê· (X Ì…)ì„ ì´ìš©í•˜ì—¬ ëª¨í‰ê· (Î¼)ì— ëŒ€í•œ ì‹ ë¢°ë„ 95% ì‹ ë¢°êµ¬ê°„ì„ ì¶”ì •í•˜ëŠ” ë°©ë²•

  ![1568872283631](190919%20R%20Statistics.assets/1568872283631.png)

  - ì‹ ë¢°êµ¬ê°„ì˜ ê¸¸ì´ëŠ” nì˜ ì œê³±ì— ë°˜ë¹„ë¡€,  ëª¨í‘œì¤€í¸ì°¨Ïƒì— ë¹„ë¡€í•œë‹¤.

  ![1568872302438](190919%20R%20Statistics.assets/1568872302438.png)

  - ëª¨í‘œì¤€í¸ì°¨ Ïƒì˜ ê°’ì´ ì•Œë ¤ì§€ì§€ ì•Šì•˜ì„ ë•ŒëŠ” í‘œë³¸ì˜ í¬ê¸°ì¸ nì´ ì¶©ë¶„íˆ í´ë•Œ (n â‰¥ 30)ì—ëŠ” í‘œì¡´ í‘œì¤€í¸ì°¨ Sì„ ì‚¬ìš©í•œë‹¤.

```R
##########í‘œë³¸ì˜ í†µê³„ëŸ‰ìœ¼ë¡œ ëª¨ì§‘ë‹¨ì˜ í‰ê·  êµ¬ê°„ ì¶”ì •  ##############
# ìš°ë¦¬ë‚˜ë¼ ì „ì²´ ì¤‘í•™êµ 2í•™ë…„ ë‚¨í•™ìƒì˜ í‰ê·  í‚¤ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œ ì¤‘í•™êµ 2í•™ë…„ ë‚¨í•™ìƒ 10,000ëª… ëŒ€ìƒìœ¼ë¡œ í‚¤ë¥¼ ì¡°ì‚¬í•œ ê²°ê³¼  í‘œë³¸í‰ê·  (ğ‘‹Â Ì…) ì€ 165.1cmì´ê³  í‘œë³¸ í‘œì¤€í¸ì°¨(S)ëŠ” 2cm ì˜€ë‹¤.
# ì „ì²´ í‘œë³¸ í¬ê¸°(N) : 10,000ëª…
# í‘œë³¸í‰ê·  (X) : 165.1cm
# í‘œë³¸ í‘œì¤€í¸ì°¨(S) : 2cm

> N <- 10000
> X <- 165.1
> S <- 2
> low <- X-1.96 * S/sqrt(N)   #ì‹ ë¢°êµ¬ê°„ì˜ í•˜í•œê°’
> high <- X+1.96 * S/sqrt(N)   #ì‹ ë¢°êµ¬ê°„ì˜ ìƒí•œê°’

> low;high
[1] 165.0608
[1] 165.1392
# ì‹ ë¢°êµ¬ê°„ 165.0608< Î¼(165.1) < 165.1392 ì— í‰ê·  ì´ í¬í•¨

# ì‹ ë¢°êµ¬ê°„ìœ¼ë¡œ í‘œë³¸ ì˜¤ì°¨ êµ¬í•˜ê¸°
# í•˜í•œê°’-í‰ê· ì‹ ì¥ , ìƒí•œê°’-í‰ê· ì‹ ì¥ ê°’ì„ ë°±ë¶„ìœ¨ë¡œ ì ìš©
> (low-X)  * 100
[1] -3.92
> (high-X) * 100
[1] 3.92
# ì‹ ë¢°êµ¬ê°„ì˜ í‘œë³¸ ì˜¤ì°¨ëŠ” Â±3.92

# í•´ì„ : ìš°ë¦¬ë‚˜ë¼  ì¤‘í•™êµ 2í•™ë…„ ë‚¨í•™ìƒì˜ í‰ê·  ì‹ ì¥ì´ 95%ì‹ ë¢°ìˆ˜ì¤€ì—ì„œ í‘œë³¸ ì˜¤ì°¨ëŠ” Â±3.92 ë²”ìœ„ì—ì„œ í‰ê·  165.1cmë¡œ ì¡°ì‚¬ë˜ì—ˆë‹¤ë©´ ì‹¤ì œ í‰ê· í‚¤ëŠ” 165.0608 ~165.1392 ì‚¬ì´ì— ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤.
```



- í‘œë³¸ ì˜¤ì°¨

  - í‘œë³¸ì´ ëª¨ì§‘ë‹¨ì˜ íŠ¹ì„±ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•˜ëŠ” í™•ë¥ ì˜ ì°¨ì´
  - ì‹ ë¢°êµ¬ê°„ì˜ í•˜í•œê°’ì—ì„œ í‰ê· ì„ ë¹¼ê³ , ìƒí•œê°’ì—ì„œ í‰ê· ì„ ëº€ ê°’ì„ ë°±ë¶„ìœ¨ë¡œ ì ìš©

- ëª¨ ë¹„ìœ¨ì˜ êµ¬ê°„ ì¶”ì •  

  - ëª¨ë¹„ìœ¨(p) : ëª¨ì§‘ë‹¨ì—ì„œ ì–´ë–¤ ì‚¬ê±´ì— ëŒ€í•œ ë¹„ìœ¨  ì˜ˆ) ì œí’ˆì˜ ë¶ˆëŸ‰ìœ¨, ëŒ€ì„  í›„ë³´ ì§€ì§€ìœ¨ 
  - ëª¨ë¹„ìœ¨ ì¶”ì • : ëª¨ì§‘ë‹¨ìœ¼ë¡œë¶€í„° ì„ì˜ì¶”ì¶œí•œ í‘œë³¸ì—ì„œ ì–´ë–¤ ì‚¬ê±´ì— ëŒ€í•œ ë¹„ìœ¨ì¸ í‘œë³¸ë¹„ìœ¨(p Ì‚)ì„ ì´ìš©í•˜ì—¬ ëª¨ë¹„ìœ¨ì„ ì¶”ì •
  - í‘œë³¸ë¹„ìœ¨ì„ ì´ìš©í•˜ì—¬ ëª¨ë¹„ìœ¨ì— ëŒ€í•œ ì‹ ë¢°ë„ 95% ì‹ ë¢°êµ¬ê°„ì„ ì¶”ì •í•˜ëŠ” ë°©ë²•

  ![1568872379395](190919%20R%20Statistics.assets/1568872379395.png)

```R
##########í‘œë³¸ì˜ ë¹„ìœ¨ë¡œë¶€í„° ëª¨ì§‘ë‹¨ì˜ ë¹„ìœ¨ êµ¬ê°„ ì¶”ì •  ###########
# Aë°˜ë„ì²´ íšŒì‚¬ì˜ ì‚¬ì›ì„ ëŒ€ìƒìœ¼ë¡œ ì„ì˜ ì¶”ì¶œí•œ 150ëª…ì„ ì¡°ì‚¬í•œ ê²°ê³¼ 90ëª…ì´ ì—¬ì ì‚¬ì›ì´ë‹¤
# í‘œë³¸ í¬ê¸°(n) : 150 
> n <- 150
# í‘œë³¸ë¹„ìœ¨(????)  : 90/150 = 0.6
> p <- 90/150

# ì „ì²´ ì—¬ì ì‚¬ì› ë¹„ìœ¨ (ëª¨ë¹„ìœ¨) 
> p-1.96 * sqrt(p*(1-p)/n)
[1] 0.5216
> p+1.96 * sqrt(p*(1-p)/n)
[1] 0.6784

#ëª¨ì§‘ë‹¨ì˜ ë¹„ìœ¨ êµ¬ê°„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.  
0.596864 â‰¤ ëª¨ë¹„ìœ¨(P) â‰¤ 0.603136
```



### 2. ë‹¨ì¼ ì§‘ë‹¨ ê²€ì •

- í•œ ê°œì˜ ì§‘ë‹¨ê³¼ ê¸°ì¡´ ì§‘ë‹¨ê³¼ì˜ ë¹„ìœ¨ ì°¨ì´ ê²€ì •ì€ ê¸°ìˆ  í†µê³„ëŸ‰ìœ¼ë¡œ ë¹ˆë„ìˆ˜ì— ëŒ€í•œ ë¹„ìœ¨ì— ì˜ë¯¸ê°€ ìˆìœ¼ë©°, í‰ê·  ì°¨ì´ ê²€ì •ì€ í‘œë³¸ í‰ê· ì— ì˜ë¯¸ê°€ ìˆë‹¤.

#### 1) ë‹¨ì¼ ì§‘ë‹¨ ë¹„ìœ¨ ê²€ì •   

- ë‹¨ì¼ ì§‘ë‹¨ì˜ ë¹„ìœ¨ì´ ì–´ë–¤ íŠ¹ì •í•œ ê°’ê³¼ ê°™ì€ì§€ë¥¼ ê²€ì •í•˜ëŠ” ë°©ë²•

- ë°ì´í„° ì „ì²˜ë¦¬ (ì´ìƒì¹˜ì™€ ê²°ì¸¡ì¹˜ ì œê±°) -> ê¸°ìˆ í†µê³„ëŸ‰(ë¹ˆë„ë¶„ì„) -> binom.test() -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„

  - ì´í•­ë¶„í¬ ë¹„ìœ¨ê²€ì •

    - ëª…ëª©ì²™ë„ì˜ ë¹„ìœ¨ì„ ë°”íƒ•ìœ¼ë¡œ binom.test()ë¥¼ ì´ìš©í•˜ì—¬ ì´í•­ë¶„í¬ì˜ ì–‘ì¸¡ ê²€ì •ì„ í†µí•´ì„œ ê²€ì • í†µê³„ëŸ‰ì„ êµ¬í•œ í›„ ì´ë¥¼ ì´ìš©í•˜ì—¬ ê°€ì„¤ì„ ê²€ì •
    - ì´í•­ë¶„í¬ëŠ” ì´ì‚°ë³€ëŸ‰ì´ë©°, ê·¸ë˜í”„ëŠ” ì¢Œìš°ëŒ€ì¹­ì¸ ì¢… ëª¨ì–‘ì˜ ê³¡ì„  í˜•íƒœë¥¼ ê°–ëŠ”ë‹¤.

    ![1568872772294](190919%20R%20Statistics.assets/1568872772294.png)

    - alternative=â€œtwo.sidedâ€ì€ ì–‘ì¸¡ ê²€ì •ì„ ì˜ë¯¸
    - conf.level=0.95ëŠ” 95% ì‹ ë¢°ìˆ˜ì¤€ì„ ì˜ë¯¸
    - ê·€ë¬´ê°€ì„¤ì´ ëª¨í‰ê· =ìƒìˆ˜ ì¼ë•Œì™€ ëª¨ í‰ê·  = ìƒìˆ˜ê°€ ì•„ë‹ë•Œ ì–‘ì¸¡ê°€ì„¤ ê²€ì •ì„ ìˆ˜í–‰í•˜ê³  ë°©í–¥ì„±ì´ ìˆëŠ” ê²½ìš° ë‹¨ì¸¡ê°€ì„¤ ê²€ì •ì„ ìˆ˜í–‰
    - alternative=â€œgreaterâ€ì€ ë°©í–¥ì„±ì„ ê°–ëŠ” ì—°êµ¬ê°€ì„¤ì„ ê²€ì •í•  ê²½ìš° ì´ìš©ëœë‹¤.

- ë¹„ìœ¨ ì°¨ì´ ê²€ì • í†µê³„ëŸ‰ì„ ë°”íƒ•ìœ¼ë¡œ ê·€ë¬´ê°€ì„¤ì˜ ê¸°ê° ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤

```R
##################ë‹¨ì¼ ì§‘ë‹¨ ë¹„ìœ¨ ê²€ì • ì‹¤ìŠµ###################
# 2016ë…„ë„ 114 ì „í™”ë²ˆí˜¸ ì•ˆë‚´ê³ ê°ì„ ëŒ€ìƒìœ¼ë¡œ ë¶ˆë§Œì„ ê°–ëŠ” ê³ ê°ì€ 20%ì˜€ë‹¤. ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ì„œ 2017ë…„ CS êµìœ¡ì„ ì‹¤ì‹œí•œ í›„ 150ëª… ê³ ê°ì„ ëŒ€ìƒìœ¼ë¡œ ì¡°ì‚¬í•œ ê²°ê³¼ 14ëª…ì´ ë¶ˆë§Œì„ ê°€ì§€ê³  ìˆì—ˆë‹¤. ê¸°ì¡´ 20%ë³´ë‹¤ ë¶ˆë§Œìœ¨ì´ ë‚®ì•„ì¡Œë‹¤ê³  í•  ìˆ˜ ìˆëŠ”ê°€?

# ì—°êµ¬ê°€ì„¤(H1) : ê¸°ì¡´ 2016ë…„ë„ ê³ ê° ë¶ˆë§Œìœ¨ê³¼ 2017ë…„ CS êµìœ¡ í›„ ë¶ˆë§Œìœ¨ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : ê¸°ì¡´ 2016ë…„ë„ ê³ ê° ë¶ˆë§Œìœ¨ê³¼ 2017ë…„ CS êµìœ¡ í›„ ë¶ˆë§Œìœ¨ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/one_sample.csv", header=TRUE)
> head(data)
  no gender survey time
1  1      2      1  5.1
2  2      2      0  5.2
3  3      2      1  4.7
4  4      2      1  4.8
5  5      2      1  5.0
6  6      2      1  5.4

> str(data)
'data.frame':	150 obs. of  4 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ gender: int  2 2 2 2 2 2 2 2 2 1 ...
 $ survey: int  1 0 1 1 1 1 1 1 0 1 ...
 $ time  : num  5.1 5.2 4.7 4.8 5 5.4 NA 5 4.4 4.9 ...


# ë³€ìˆ˜ : ë²ˆí˜¸, ì„±ë³„, ë§Œì¡±ë„(ëª…ëª©ì²™ë„), ì‹œê°„
> x <- data$survey
> summary(x) 
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.0000  1.0000  1.0000  0.9067  1.0000  1.0000 

> length(x)   # ê²°ì¸¡ì¹˜ í™•ì¸
[1] 150

> table(x)   # 0:ë¶ˆë§Œì¡±, 1:ë§Œì¡±
x
  0   1 
 14 136 

> library(prettyR)
> freq(x)   # ê²°ì¸¡ì¹˜ í™•ì¸
Frequencies for x 
        1    0   NA
      136   14    0
%    90.7  9.3    0 
%!NA 90.7  9.3 


# ë§Œì¡±ë„(ëª…ëª©ì²™ë„)ì˜ ë¹„ìœ¨ì„ ë°”íƒ•ìœ¼ë¡œ binom.test() ì´í•­ë¶„í¬ ì–‘ì¸¡ê²€ì • ìˆ˜í–‰ -> ê²€ì • í†µê³„ëŸ‰ -> ê°€ì„¤ ê²€ì •
> binom.test(c(136, 14), p=0.8)
	Exact binomial test
data:  c(136, 14)
number of successes = 136, number of trials = 150, p-value =
0.0006735
alternative hypothesis: true probability of success is not equal to 0.8
95 percent confidence interval:
 0.8483615 0.9480298
sample estimates:
probability of success 
             0.9066667 


> binom.test(c(136, 14), p=0.8,  alternative="two.sided", conf.level=0.95)
	Exact binomial test
data:  c(136, 14)
number of successes = 136, number of trials = 150, p-value =
0.0006735
alternative hypothesis: true probability of success is not equal to 0.8
95 percent confidence interval:
 0.8483615 0.9480298
sample estimates:
probability of success 
             0.9066667 

# í•´ì„ : p-value ìœ ì˜í™•ë¥  0.0006735ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ë§Œì¡±ë¥ (80%)ê³¼ ì°¨ì´ê°€ ìˆë‹¤. ê¸°ì¡´ ë§Œì¡±ë¥ (80%)ë³´ë‹¤ í¬ë‹¤ í˜¹ì€ ì‘ë‹¤ì˜ ë°©í–¥ì„±ì„ ì œì‹œí•˜ì§€ ì•ŠìŒ


# ë°©í–¥ì„±ì„ ê°–ëŠ” ë‹¨ì¸¡ ê²€ì • ìˆ˜í–‰ (ë” í° ë¹„ìœ¨ì¸ê°€? ê²€ì •)
> binom.test(c(136, 14), p=0.8,  alternative="greater", conf.level=0.95)

	Exact binomial test

data:  c(136, 14)
number of successes = 136, number of trials = 150, p-value =
0.0003179
alternative hypothesis: true probability of success is greater than 0.8
95 percent confidence interval:
 0.8579426 1.0000000
sample estimates:
probability of success 
             0.9066667 

# í•´ì„ : p-value ìœ ì˜í™•ë¥  0.0003179ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ë§Œì¡±ë¥  80% ì´ìƒì˜ íš¨ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. CS êµìœ¡í›„ì— ê³ ê°ì˜ ë¶ˆë§Œìœ¨ì€ ë‚®ì•„ì¡Œë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ê·€ë¬´ê°€ì„¤ì€ ê¸°ê°ì´ê³  ì—°êµ¬ê°€ì„¤ì´ ì±„íƒë˜ë¯€ë¡œ CSêµìœ¡ì— íš¨ê³¼ê°€ ìˆë‹¤.


# ë¶ˆë§Œìœ¨ ê¸°ì¤€ ë¹„ìœ¨ ê²€ì •
> binom.test(c(14, 136), p=0.2)

	Exact binomial test

data:  c(14, 136)
number of successes = 14, number of trials = 150, p-value =
0.0006735
alternative hypothesis: true probability of success is not equal to 0.2
95 percent confidence interval:
 0.05197017 0.15163853
sample estimates:
probability of success 
            0.09333333 


> binom.test(c(14, 136), p=0.2,  alternative="two.sided", conf.level=0.95)

	Exact binomial test

data:  c(14, 136)
number of successes = 14, number of trials = 150, p-value = 0.0006735
alternative hypothesis: true probability of success is not equal to 0.2
95 percent confidence interval:
 0.05197017 0.15163853
sample estimates:
probability of success 
            0.09333333 
# í•´ì„ : p-value ìœ ì˜í™•ë¥  0.0006735ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ë¶ˆë§Œì¡±ë¥ (20%)ê³¼ ì°¨ì´ê°€ ìˆë‹¤.


> binom.test(c(14, 136), p=0.2,  alternative="less", conf.level=0.95)

	Exact binomial test

data:  c(14, 136)
number of successes = 14, number of trials = 150, p-value = 0.0003179
alternative hypothesis: true probability of success is less than 0.2
95 percent confidence interval:
 0.0000000 0.1420574
sample estimates:
probability of success 
            0.09333333 
# í•´ì„ : p-value ìœ ì˜í™•ë¥  0.0003179ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê¸°ì¡´ ë¶ˆë§Œì¡±ë¥  20% ë³´ë‹¤ ë‚®ë‹¤.
```



#### 2) ë‹¨ì¼ ì§‘ë‹¨ í‰ê·  ê²€ì • (ë‹¨ì¼í‘œë³¸ T ê²€ì •)

- ë‹¨ì¼ì§‘ë‹¨ì˜ í‰ê· ì´ ì–´ë–¤ íŠ¹ì •í•œ ì§‘ë‹¨ì˜ í‰ê· ê³¼ ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•˜ëŠ” ë°©ë²•
- ë°ì´í„° ì „ì²˜ë¦¬ (ì´ìƒì¹˜ì™€ ê²°ì¸¡ì¹˜ ì œê±°) -> ê¸°ìˆ í†µê³„ëŸ‰(í‰ê· ) -> ì •ê·œë¶„í¬( shapiro.test()) -> t.test() ë˜ëŠ” wilcox.test()  -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„
- ëª¨ìˆ˜ ê²€ì •ì¸ ê²½ìš° Tê²€ì •ì„ ìˆ˜í–‰
- ë¹„ëª¨ìˆ˜ ê²€ì •ì¸ ê²½ìš° Wilcox ê²€ì •ì„ ìˆ˜í–‰



- í‰ê·  ê²€ì • í†µê³„ëŸ‰ì˜ íŠ¹ì§•
  - ë¹„ìœ¨ì²™ë„ ê°™ì€ ìˆ˜ì¹˜ ê¸°ë°˜ ë°ì´í„°ì— ì˜ë¯¸ê°€ ìˆë‹¤.
  - ë¶„í¬ì˜ ì¤‘ì‹¬ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ëŒ€í‘œê°’ì˜ ì„±ê²©ì„ ê°€ì§€ë©°, ì •ê·œë¶„í¬ì—ì„œ ë„ìˆ˜ë¶„í¬ê³¡ì„ ì´ í‰ê· ê°’ì„ ì¤‘ìœ¼ë¡œ í•˜ì—¬ ì¢Œìš° ëŒ€ì¹­ì¸ ì¢… ëª¨ì–‘ì„ í˜•ì„±í•œë‹¤.
  - ì§‘ë‹¨ ê°„ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.

- ì •ê·œë¶„í¬ ê²€ì •
  - ë‹¨ì¼í‘œë³¸ í‰ê·  ì°¨ì´ ê²€ì •ì„ í•˜ê¸° ì „ì— ë°ì´í„°ì˜ ë¶„í¬í˜•íƒœê°€ ì •ê·œë¶„í¬ ì¸ì§€ë¥¼ ë¨¼ì € ê²€ì •í•´ì•¼ í•œë‹¤.
  - ì •ê·œë¶„í¬ ê²€ì •ì€ stats íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” shapiro.test() ì´ìš©
  - ê²€ì • ê²°ê³¼ê°€ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í° ê²½ìš° ì •ê·œë¶„í¬ë¡œ ë³¸ë‹¤.

- í‰ê·  ì°¨ì´ ê²€ì •
  - ëª¨ì§‘ë‹¨ì—ì„œ ì¶”ì¶œí•œ í‘œë³¸ ë°ì´í„°ì˜ ë¶„í¬í˜•íƒœê°€ ì •ê·œë¶„í¬ í˜•íƒœë¥¼ ë³´ì¸ë‹¤ë©´, T-ê²€ì •ì„ ìˆ˜í–‰
  - T-ê²€ì •ì€ ëª¨ì§‘ë‹¨ì˜ í‰ê· ê°’ì„ ê²€ì •í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ stats íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” t.test() í•¨ìˆ˜ ì´ìš©

  ```R
  t.test(x, y = NULL, alternative = c(â€œtwo.sidedâ€, â€œlessâ€, â€œgreaterâ€),
            mu = 0 , paired=FALSE, var.equal = FALSE,  conf.level=0.95, â€¦)
  # alternative  ì†ì„± -  ì–‘ì¸¡ ê²€ì •ê³¼ ë‹¨ì¸¡ ê²€ì •
  # conf.level  ì†ì„± â€“ ì‹ ë¢°ìˆ˜ì¤€
  # mu ì†ì„± â€“ ë¹„êµí•  ê¸°ì¡´ ëª¨ì§‘ë‹¨ì˜ í‰ê· ê°’ì„ ì§€ì •
  ```

  - stats íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” qt()ë¥¼ ì´ìš©í•˜ë©´, ê·€ë¬´ê°€ì„¤ì˜ ì„ê³„ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 
  - qt() í•¨ìˆ˜ì—ì„œ p-valueì™€ ììœ ë„(df)ë¥¼ ì¸ìˆ˜ë¡œ ì§€ì •í•˜ì—¬ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆëŠ” ì„ê³„ê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

```R
########### ë‹¨ì¼ì§‘ë‹¨ì˜ í‰ê·  ê²€ì • (ë‹¨ì¼í‘œë³¸ Tê²€ì •) ##############
# êµ­ë‚´ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ í‰ê·  ì‚¬ìš©ì‹œê°„ì´ 5.2ì‹œê°„ìœ¼ë¡œ íŒŒì•…ëœ ìƒí™©ì—ì„œ AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ í‰ê·  ì‚¬ìš©ì‹œê°„ê³¼ ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•˜ê¸° ìœ„í•´ì„œ A íšŒì‚¬ ë…¸íŠ¸ë¶ 150ëŒ€ë¥¼ ëœë¤ìœ¼ë¡œ ì„ ì •í•˜ì—¬ ê²€ì •ì„ ì‹¤ì‹œí•œë‹¤. êµ­ë‚´ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ í‰ê·  ì‚¬ìš©ì‹œê°„ì´ 5.2ì‹œê°„ìœ¼ë¡œ íŒŒì•…ëœ ìƒí™©ì—ì„œ AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ í‰ê·  ì‚¬ìš©ì‹œê°„ê³¼ ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•˜ê¸° ìœ„í•´ì„œ AíšŒì‚¬ ë…¸íŠ¸ë¶ 150ëŒ€ë¥¼ ëœë¤ìœ¼ë¡œ ì„ ì •í•˜ì—¬ ê²€ì •ì„ ì‹¤ì‹œí•œë‹¤.
# ì—°êµ¬ê°€ì„¤(H1) : êµ­ë‚´ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ê³¼ AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ì˜ í‰ê·  ì‚¬ìš©ì‹œê°„ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : êµ­ë‚´ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ê³¼ AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ì˜ í‰ê·  ì‚¬ìš©ì‹œê°„ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/one_sample.csv", header=TRUE)
> head(data)
  no gender survey time
1  1      2      1  5.1
2  2      2      0  5.2
3  3      2      1  4.7
4  4      2      1  4.8
5  5      2      1  5.0
6  6      2      1  5.4

> str(data) 
'data.frame':	150 obs. of  4 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ gender: int  2 2 2 2 2 2 2 2 2 1 ...
 $ survey: int  1 0 1 1 1 1 1 1 0 1 ...
 $ time  : num  5.1 5.2 4.7 4.8 5 5.4 NA 5 4.4 4.9 ...

> x <- data$time
> summary(x)  # ê²°ì¸¡ì¹˜ í™•ì¸
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NAs 
  3.000   5.000   5.500   5.557   6.200   7.900      41 

> length(x)   
[1] 150

> mean(x, na.rm=T)  # NA ì œì™¸ í‰ê·   
[1] 5.556881

> x1 <- na.omit(x)  # NA ì œì™¸ í‰ê·  
> mean(x1) 
[1] 5.556881


# ì •ê·œë¶„í¬ ê²€ì •
> shapiro.test(x1)
	Shapiro-Wilk normality test
data:  x1
W = 0.99137, p-value = 0.7242  

# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.7242 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— x1 ê°ì²´ì˜ ë°ì´í„° ë¶„í¬ëŠ” ì •ê·œë¶„í¬ë¥¼ ë”°ë¥¸ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.

> hist(x1)  
```

![10](190919%20R%20Statistics.assets/10.JPG)

```R
#statsíŒ¨í‚¤ì§€ì—ì„œ ì •ê·œì„± ê²€ì • - qqnorm(), qqline()ëŠ” ì •ê·œë¶„í¬ ì‹œê°í™”
> install.packages("stats")
> library(stats)
> qqnorm(x1)
> qqline(x1, lty=1, col='blue')
```

![11](190919%20R%20Statistics.assets/11.JPG)

![12](190919%20R%20Statistics.assets/12.JPG)

```R
# ëª¨ìˆ˜ ê²€ì • : T-ê²€ì • 
> t.test(x1, mu=5.2)  # x1ê°ì²´ì™€ ê¸°ì¡´ ëª¨ì§‘ë‹¨ì˜ í‰ê·  5.2ì‹œê°„ ë¹„êµ
	One Sample t-test
data:  x1
t = 3.9461, df = 108, p-value = 0.0001417
alternative hypothesis: true mean is not equal to 5.2
95 percent confidence interval:
 5.377613 5.736148
sample estimates:
mean of x 
 5.556881 

> t.test(x1, mu=5.2, alter="two.side", conf.level=0.95)
	One Sample t-test
data:  x1
t = 3.9461, df = 108, p-value = 0.0001417
alternative hypothesis: true mean is not equal to 5.2
95 percent confidence interval:
 5.377613 5.736148
sample estimates:
mean of x 
 5.556881 

#### í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.0001417 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ ê¸°ê°
# ê·€ë¬´ê°€ì„¤ : ì°¨ì´ê°€ ì—†ë‹¤  0.05ë³´ë‹¤ í¬ë©´ ì±„íƒ, 0.05ë³´ë‹¤ ì‘ìœ¼ë©´ ê¸°ê°
# ì—°êµ¬ê°€ì„¤ : ì°¨ì´ê°€ ìˆë‹¤ 
# êµ­ë‚´ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ í‰ê·  ì‚¬ìš©ì‹œê°„ê³¼  AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ì˜ í‰ê·  ì‚¬ìš©ì‹œê°„ì˜ ì°¨ì´ê°€ ìˆë‹¤. x1ì˜ í‰ê· ì€ 5.55688(ì ì¶”ì •)ëŠ” ì‹ ë¢°êµ¬ê°„ì— í¬í•¨ë˜ê³  AíšŒì‚¬ì—ì„œ ìƒì‚°ëœ ë…¸íŠ¸ë¶ì˜ í‰ê·  ì‚¬ìš©ì‹œê°„ 5.2ëŠ” ì‹ ë¢°êµ¬ê°„ì„ ë²—ì–´ë‚˜ë¯€ë¡œ ê·€ë¬´ê°€ì„¤ì´ ê¸°ê°ëœë‹¤.(ì‹ ë¢°êµ¬ê°„ì€ ê·€ë¬´ê°€ì„¤ì˜ ì±„íƒì—­ì˜ ì˜ë¯¸ê°€ ìˆìœ¼ë¯€ë¡œ)


# ë°©í–¥ì„±ì„ ê°–ëŠ” ë‹¨ì¸¡ ê²€ì •
> t.test(x1, mu=5.2, alter="greater", conf.level=0.95)
	One Sample t-test
data:  x1
t = 3.9461, df = 108, p-value = 7.083e-05
alternative hypothesis: true mean is greater than 5.2
95 percent confidence interval:
 5.406833      Inf
sample estimates:
mean of x 
 5.556881 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 7.083e-6ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ì„ ì±„íƒ
# ê·€ë¬´ê°€ì„¤ ì„ê³„ê°’ ê³„ì‚° qt(p-value, df): ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆëŠ” ì„ê³„ê°’  qt(7.083e-6, 108) ê³„ì‚° ê²°ê³¼ëŠ” -3.946073 (ì„ê³„ê°’ì€ ì ˆëŒ€ê°’) ì„ê³„ê°’ 3.946073 ì´ìƒì´ë©´ ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆë‹¤. t ê²€ì • í†µê³„ëŸ‰ 3.9461ì´ë¯€ë¡œ ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆë‹¤
```



### 3. ë‘ ì§‘ë‹¨ ê²€ì •

- ë°ì´í„° ì „ì²˜ë¦¬ -> ë‘ ì§‘ë‹¨ subset ìƒì„±  -> prop.test() -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„

- ë‹¨ì¼í‘œë³¸ ì´í•­ë¶„í¬ ë¹„ìœ¨ê²€ì •ì€ binom.test() ë¥¼ ì´ìš©

- ë…ë¦½í‘œë³¸ ì´í•­ë¶„í¬ ë¹„ìœ¨ê²€ì •ì€ prop.test()ë¥¼ ì´ìš©

- ë¹„ìœ¨ ì°¨ì´ ê²€ì • í†µê³„ëŸ‰ì„ ë°”íƒ•ìœ¼ë¡œ ê·€ë¬´ê°€ì„¤ì˜ ê¸°ê° ì—¬ë¶€ë¥¼ ê²°ì •

#### 1) ë‘ ì§‘ë‹¨ ë¹„ìœ¨ ì°¨ì´ ê²€ì •

- ëª…ëª© ì²™ë„ì˜ ë¹„ìœ¨ì„ ë°”íƒ•ìœ¼ë¡œ prop.test() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë‘ ì§‘ë‹¨ ê°„ ì´í•­ë¶„í¬ì˜ ì–‘ì¸¡ ê²€ì •ì„ í†µí•´ì„œ ê²€ì • í†µê³„ëŸ‰ì„ êµ¬í•œ í›„  ì´ë¥¼ ì´ìš©í•˜ì—¬ ê°€ì„¤ì„ ê²€ì •í•œë‹¤.

```R
prop.test(x, n, p = NULL, alternative = c(â€œtwo.sidedâ€, â€œlessâ€, â€œgreaterâ€),
             conf.level=0.95, correct=TRUE)
```

```R
############## ë‘ ì§‘ë‹¨ ë¹„ìœ¨ ì°¨ì´ ê²€ì • ì‹¤ìŠµ ################
# IT êµìœ¡ì„¼í„°ì—ì„œ PTë¥¼ ì´ìš©í•œ í”„ë¦¬ì  í…Œì´ì…˜ êµìœ¡ë°©ë²•ê³¼ ì‹¤ì‹œê°„ ì½”ë”© êµìœ¡ë°©ë²•ì„ ì ìš©í•˜ì—¬ êµìœ¡ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. 2ì‹œê°„ êµìœ¡ë°©ë²• ì¤‘ ë” íš¨ê³¼ì ì¸ êµìœ¡ë°©ë²•ì„ ì¡°ì‚¬í•˜ê¸° ìœ„í•´ì„œ êµìœ¡ìƒ 300ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ì„¤ë¬¸ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. 
# ì—°êµ¬ê°€ì„¤(H1) : ë‘ ê°€ì§€ êµìœ¡ë°©ë²•ì— ë”°ë¼ êµìœ¡ìƒì˜ ë§Œì¡±ë¥ ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : ë‘ ê°€ì§€ êµìœ¡ë°©ë²•ì— ë”°ë¼ êµìœ¡ìƒì˜ ë§Œì¡±ë¥ ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/two_sample.csv", header=TRUE)
> head(data)
  no gender method survey score
1  1      1      1      1   5.1
2  2      1      1      0   5.2
3  3      1      1      1   4.7
4  4      2      1      0   4.8
5  5      1      1      1   5.0
6  6      1      1      1   5.4

> str(data) # methodêµìœ¡ë°©ë²• , ê´€ì¸¡ì¹˜
'data.frame':	300 obs. of  5 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ gender: int  1 1 1 2 1 1 2 1 1 1 ...
 $ method: int  1 1 1 1 1 1 1 1 1 1 ...
 $ survey: int  1 0 1 0 1 1 0 1 1 0 ...
 $ score : num  5.1 5.2 4.7 4.8 5 5.4 NA 5 4.4 4.9 ...

> x <- data$method
> y <- data$survey

> length(x)   # NA ì—†ìŒ
[1] 300
> length(y)   # NA ì—†ìŒ
[1] 300

> table(x)
x
  1   2 
150 150 

> table(y)
y
  0   1 
 55 245 

# êµì°¨ ë¶„ì„ì„ ìœ„í•œ ë¶„í• í‘œ ìƒì„±
> table(x, y, useNA="ifany")   # ê²°ì¸¡ì¹˜ê¹Œì§€ ì¶œë ¥(useNA="ifany")
   y
x     0   1
  1  40 110
  2  15 135

# ë‘ ì§‘ë‹¨ì˜ ë§Œì¡±ë„ ì°¨ì´ ë¹„ìœ¨ ê²€ì •
# prop.test ('ptêµìœ¡ ë§Œì¡±ë„ì™€ ì½”ë”©êµìœ¡ ë§Œì¡±ë„', 'êµìœ¡ë°©ë²•ì— ëŒ€í•œ ë³€ëŸ‰-ì‹œí–‰íšŸìˆ˜')
> prop.test(c(110, 135), c(150, 150))
	2-sample test for equality of proportions with continuity
	correction
data:  c(110, 135) out of c(150, 150)
X-squared = 12.824, df = 1, p-value = 0.0003422
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.25884941 -0.07448392
sample estimates:
   prop 1    prop 2 
0.7333333 0.9000000 


> prop.test(c(110, 135), c(150, 150), alter="two.sided", conf.level=0.95)
	2-sample test for equality of proportions with continuity
	correction
data:  c(110, 135) out of c(150, 150)
X-squared = 12.824, df = 1, p-value = 0.0003422
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.25884941 -0.07448392
sample estimates:
   prop 1    prop 2 
0.7333333 0.9000000 

# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.0003422ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ë‘ êµìœ¡ë°©ë²• ê°„ì˜ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ìˆë‹¤. (ì—°êµ¬ê°€ì„¤ ì±„íƒ) ê²€ì • í†µê³„ëŸ‰ X-squaredë¡œ ê°€ì„¤ ê²€ì •ì„ ìˆ˜í–‰í•˜ë©´ df 1ì¼ë•Œ ê¸°ê°ì—­ì€ 3.84ì´ê³  X-squared 12.82..ê°€ ë” í¬ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆë‹¤.
```



#### 2) ë‘ ì§‘ë‹¨ í‰ê·  ê²€ì •(ë…ë¦½í‘œë³¸ T ê²€ì •)

- ë‘ ì§‘ë‹¨ì„ ëŒ€ìƒìœ¼ë¡œ í‰ê·  ì°¨ì´ ê²€ì •ì„ í†µí•´ì„œ ë‘ ì§‘ë‹¨ì˜ í‰ê· ì´ ê°™ì€ì§€ ë˜ëŠ” ë‹¤ë¥¸ì§€ë¥¼ ê²€ì •

- ë°ì´í„° ì „ì²˜ë¦¬ -> ë‘ì§‘ë‹¨ subset ì‘ì„± -> ê¸°ìˆ  í†µê³„ëŸ‰(í‰ê· )  ->  ë™ì§ˆì„±ë¶„í¬ (var.test()) -> t.test() ë˜ëŠ” wilcox.text() -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„
- ë™ì§ˆì„± ê²€ì •
  - ëª¨ì§‘ë‹¨ì—ì„œ ì¶”ì¶œëœ í‘œë³¸ì„ ëŒ€ì‚¬ìœ¼ë¡œ ë¶„ì‚°ì˜ ë™ì§ˆì„± ê²€ì •ì€ stats íŒ¨í‚¤ì§€ì—ì„œ ì œê³µí•˜ëŠ” var.test() í•¨ìˆ˜ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.
  - ê²€ì • ê²°ê³¼ê°€ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í° ê²½ìš° ë‘ ì§‘ë‹¨ ê°„ ë¶„í¬ì˜ ëª¨ì–‘ì´ ë™ì§ˆí•˜ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
  - ë¶„ì‚°ì˜ ë™ì§ˆì„± ê²€ì •ì€ ë“±ë¶„ì‚° ê°€ì •ê³¼ ë“±ë¶„ì‚° ê°€ì •ë˜ì§€ ì•ŠìŒ(ì´ë¶„ì‚°)ì— ë”°ë¼ì„œ ê²°ê³¼ê°€ ë‹¬ë¼ì§„ë‹¤.
  - ë“±ë¶„ì‚°ì€ ëª¨ì§‘ë‹¨ì—ì„œ ì¶”ì¶œëœ í‘œë³¸ì´ ê· ë“±í•˜ê²Œ ì¶”ì¶œëœ ê²½ìš°ì´ê³ , ì´ë¶„ì‚°ì€ ì¶”ì¶œëœ í‘œë³¸ì´ íŠ¹ì • ê³„ì¸µìœ¼ë¡œ í¸ì¤‘ë˜ì–´ ì¶”ì¶œë˜ëŠ” ê²½ìš°ì´ë‹¤.

```R
################# ë‘ ì§‘ë‹¨ í‰ê·  ê²€ì •(ë…ë¦½í‘œë³¸ Tê²€ì •)##################
# IT êµìœ¡ì„¼í„°ì—ì„œ PTë¥¼ ì´ìš©í•œ í”„ë¦¬ì  í…Œì´ì…˜ êµìœ¡ë°©ë²•ê³¼ ì‹¤ì‹œê°„ ì½”ë”© êµìœ¡ë°©ë²•ì„ ì ìš©í•˜ì—¬ 1ê°œì›”ë™ì•ˆ êµìœ¡ë°›ì€ êµìœ¡ìƒ ê° 150ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ì‹¤ê¸°ì‹œí—˜ì„  ì‹¤ì‹œí•˜ì˜€ë‹¤. ì§‘ë‹¨ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆëŠ”ê°€ë¥¼ ê²€ì •í•œë‹¤.
# ì—°êµ¬ê°€ì„¤(H1) : êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ë‘ ì§‘ë‹¨ ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ë‘ ì§‘ë‹¨ ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/two_sample.csv", header=TRUE)
> head(data)
  no gender method survey score
1  1      1      1      1   5.1
2  2      1      1      0   5.2
3  3      1      1      1   4.7
4  4      2      1      0   4.8
5  5      1      1      1   5.0
6  6      1      1      1   5.4

> str(data) #methodêµìœ¡ë°©ë²• , score(ì ìˆ˜)
'data.frame':	300 obs. of  5 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ gender: int  1 1 1 2 1 1 2 1 1 1 ...
 $ method: int  1 1 1 1 1 1 1 1 1 1 ...
 $ survey: int  1 0 1 0 1 1 0 1 1 0 ...
 $ score : num  5.1 5.2 4.7 4.8 5 5.4 NA 5 4.4 4.9 ...

> summary(data)  #scoreì˜ NA ê°œìˆ˜ : 73ê°œ
       no             gender         method        survey           score      
 Min.   :  1.00   Min.   :1.00   Min.   :1.0   Min.   :0.0000   Min.   :3.000  
 1st Qu.: 75.75   1st Qu.:1.00   1st Qu.:1.0   1st Qu.:1.0000   1st Qu.:5.100  
 Median :150.50   Median :1.00   Median :1.5   Median :1.0000   Median :5.600  
 Mean   :150.50   Mean   :1.42   Mean   :1.5   Mean   :0.8167   Mean   :5.685  
 3rd Qu.:225.25   3rd Qu.:2.00   3rd Qu.:2.0   3rd Qu.:1.0000   3rd Qu.:6.300  
 Max.   :300.00   Max.   :2.00   Max.   :2.0   Max.   :1.0000   Max.   :8.000  
                                                                NAs   :73   


# ë‘ ì§‘ë‹¨ subset ìƒì„± 
> result <- subset(data, !is.na(score), c(method, score)) # ì¡°ê±´ê³¼ selectí•  ë³€ìˆ˜
> head(result)
  method score
1      1   5.1
2      1   5.2
3      1   4.7
4      1   4.8
5      1   5.0
6      1   5.4

> length(result)
[1] 2

> a <- subset(result, method==1)
> b <- subset(result, method==2)
> ascore <- a$score
> bscore <- b$score


# ê¸°ìˆ í†µê³„ëŸ‰(í‰ê· )
> length(ascore) 
[1] 109
> length(bscore)  
[1] 118
> mean(ascore)    
[1] 5.556881
> mean(bscore)   
[1] 5.80339

# ë¶„ì‚°ì˜ ë™ì§ˆì„± ê²€ì • 
> var.test(ascore, bscore)
	F test to compare two variances
data:  ascore and bscore
F = 1.2158, num df = 108, denom df = 117, p-value = 0.3002
alternative hypothesis: true ratio of variances is not equal to 1
95 percent confidence interval:
 0.8394729 1.7656728
sample estimates:
ratio of variances 
          1.215768 

# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.3002 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ ê°„ì˜ ë¶„í¬ í˜•íƒœê°€ ë™ì¼í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.


# ë‘ ì§‘ë‹¨ í‰ê·  ì°¨ì´ ê²€ì •
> t.test(ascore, bscore)
	Welch Two Sample t-test
data:  ascore and bscore
t = -2.0547, df = 218.19, p-value = 0.0411
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -0.48296687 -0.01005133
sample estimates:
mean of x mean of y 
 5.556881  5.803390 

> t.test(ascore, bscore, alter="two.sided", conf.int=TRUE, conf.level=0.95)
	Welch Two Sample t-test
data:  ascore and bscore
t = -2.0547, df = 218.19, p-value = 0.0411
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -0.48296687 -0.01005133
sample estimates:
mean of x mean of y 
 5.556881  5.803390 

# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.0411ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ê°„ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆë‹¤.


# ë‹¨ì¸¡ ê°€ì„¤ ê²€ì • (ascoreê°€ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµ -> ascoreë³´ë‹¤ bscoreê°€ ë” í°ì§€ ì—¬ë¶€)
> t.test(ascore, bscore, alter="greater", conf.int=TRUE, conf.level=0.95)
	Welch Two Sample t-test
data:  ascore and bscore
t = -2.0547, df = 218.19, p-value = 0.9794
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 -0.4446915        Inf
sample estimates:
mean of x mean of y 
 5.556881  5.803390 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.9794ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ptêµìœ¡ë³´ë‹¤ ì½”ë”©êµìœ¡ì˜ ì‹¤ê¸° ì ìˆ˜ í‰ê· ì´ ë” í¬ë‹¤.


> t.test(ascore, bscore, alter="less", conf.int=TRUE, conf.level=0.95)
	Welch Two Sample t-test
data:  ascore and bscore
t = -2.0547, df = 218.19, p-value = 0.02055
alternative hypothesis: true difference in means is less than 0
95 percent confidence interval:
        -Inf -0.04832672
sample estimates:
mean of x mean of y 
 5.556881  5.803390 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.02055ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ptêµìœ¡ì´ ì½”ë”©êµìœ¡ì˜ ì‹¤ê¸° ì ìˆ˜ í‰ê· ì´ ë” ë‚®ë‹¤.
```



#### 3) ëŒ€ì‘ ë‘ ì§‘ë‹¨ í‰ê·  ê²€ì •(ëŒ€ì‘ í‘œë³¸ T ê²€ì •)

- ëŒ€ì‘ í‘œë³¸ í‰ê· ê²€ì •(Paired Samples t-test)ì€ ë™ì¼í•œ í‘œë³¸ì„ ëŒ€ìƒìœ¼ë¡œ ì¸¡ì •ëœ ë‘ ë³€ìˆ˜ì˜ í‰ê·  ì°¨ì´ë¥¼ ê²€ì •í•˜ëŠ”  ë¶„ì„ ë°©ë²•

- ì¼ë°˜ì ìœ¼ë¡œ  ì‚¬ì „ê²€ì‚¬ì™€ ì‚¬í›„ ê²€ì‚¬ì˜ í‰ê·  ì°¨ì´ë¥¼ ê²€ì¦í•  ë•Œ ë§ì´ ì´ìš©
  - ì˜ˆ) êµìˆ˜ë²• í”„ë¡œê·¸ë¨ì„ ì ìš©í•˜ê¸° ì „ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ê³¼ êµìˆ˜ë²• í”„ë¡œê·¸ë¨ ì ìš©í•œ í›„ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •

- ë°ì´í„° ì „ì²˜ë¦¬ -> ì „ê³¼ í›„  subset ì‘ì„± -> ê¸°ìˆ  í†µê³„ëŸ‰(í‰ê· )  ->  ë™ì§ˆì„±ë¶„í¬ (var.test()) -> t.test() ë˜ëŠ” wilcox.text() -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„

```R
###############ëŒ€ì‘ ë‘ ì§‘ë‹¨ í‰ê·  ê²€ì •(ëŒ€ì‘ í‘œë³¸ Tê²€ì •)################
# A êµìœ¡ì„¼í„°ì—ì„œ êµìœ¡ìƒ 100ëª…ì„ ëŒ€ìƒìœ¼ë¡œ êµìˆ˜ë²• í”„ë¡œê·¸ë¨ ì ìš© ì „ì— ì‹¤ê¸°ì‹œí—˜ì„ ì‹¤ì‹œí•œ í›„ 1ê°œì›” ë™ì•ˆ ë™ì¼í•œ êµìœ¡ìƒì—ê²Œ êµìˆ˜ë²• í”„ë¡œê·¸ë¨ì„ ì ìš©í•œ í›„ ì‹¤ê¸°ì‹œí—˜ì„ ì‹¤ì‹œí•œ ì ìˆ˜ì™€ í‰ê· ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•œë‹¤.
# ì—°êµ¬ê°€ì„¤(H1) : êµìˆ˜ë²• í”„ë¡œê·¸ë¨ì„ ì ìš©í•˜ê¸° ì „ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ê³¼ êµìˆ˜ë²• í”„ë¡œê·¸ë¨ ì ìš©í•œ í›„ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : êµìˆ˜ë²• í”„ë¡œê·¸ë¨ì„ ì ìš©í•˜ê¸° ì „ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ê³¼ êµìˆ˜ë²• í”„ë¡œê·¸ë¨ ì ìš©í•œ í›„ í•™ìƒë“¤ì˜ í•™ìŠµë ¥ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/paired_sample.csv", header=TRUE)
> head(data)
  no before after
1  1    5.1   6.3
2  2    5.2   6.3
3  3    4.7   6.5
4  4    4.8   5.9
5  5    5.0   6.5
6  6    5.4   7.3

> str(data)  #before, after ì»¬ëŸ¼, ê´€ì¸¡ì¹˜ 100ê°œ
'data.frame':	100 obs. of  3 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ before: num  5.1 5.2 4.7 4.8 5 5.4 5 5 4.4 4.9 ...
 $ after : num  6.3 6.3 6.5 5.9 6.5 7.3 5.9 6.2 6 7.2 ...

> result <- subset(data, !is.na(after), c(before, after))
> length(result$after)   # ê²°ì¸¡ì¹˜ 4ê°œ ì œì™¸ë¨
[1] 96

> x<-result$before
> y<-result$after

> mean(x) 
[1] 5.16875
> mean(y)  
[1] 6.220833


# ë™ì§ˆì„± ê²€ì •
> var.test(x, y, paired=TRUE)
	F test to compare two variances
data:  x and y
F = 1.0718, num df = 95, denom df = 95, p-value = 0.7361
alternative hypothesis: true ratio of variances is not equal to 1
95 percent confidence interval:
 0.7151477 1.6062992
sample estimates:
ratio of variances 
          1.071793 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€  0.7361ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ê°„ì˜ ë¶„í¬í˜•íƒœê°€ ë™ì¼í•˜ë‹¤.


# í‰ê·  ì°¨ì´ ê²€ì •
> t.test(x, y, paired=TRUE, alter="two.sided", conf.int=TRUE, conf.level=0.95)
	Paired t-test
data:  x and y
t = -13.642, df = 95, p-value < 2.2e-16
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -1.205184 -0.898983
sample estimates:
mean of the differences 
              -1.052083 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€  2.2e-16 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ê°„ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆë‹¤.


> t.test(x, y, paired=TRUE, alter="less", conf.int=TRUE, conf.level=0.95)
	Paired t-test
data:  x and y
t = -13.642, df = 95, p-value < 2.2e-16
alternative hypothesis: true difference in means is less than 0
95 percent confidence interval:
       -Inf -0.9239849
sample estimates:
mean of the differences 
              -1.052083 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 2.2e-16 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë•Œë¬¸ì— x ì§‘ë‹¨ í‰ê· ì´ yì§‘ë‹¨ì˜ í‰ê· ë³´ë‹¤ ì‘ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.
```



### 4. ì„¸ ì§‘ë‹¨ ê²€ì •

- ì„¸ ì§‘ë‹¨ ê²€ì • 
  - ë¹„ìœ¨ ì°¨ì´ ê²€ì •ì€ ê¸°ìˆ  í†µê³„ëŸ‰ìœ¼ë¡œ ë¹ˆë„ìˆ˜ì— ëŒ€í•œ ë¹„ìœ¨ì— ì˜ë¯¸ê°€ ìˆìœ¼ë©°, ì„¸ ì§‘ë‹¨ì˜ í‰ê·  ì°¨ì´ ê²€ì •ì€ ë¶„ì‚° ë¶„ì„ì´ë¼ê³  í•œë‹¤.

#### 1) ì„¸ ì§‘ë‹¨ ë¹„ìœ¨ê²€ì •

- ë°ì´í„° ì „ì²˜ë¦¬ -> ì„¸ ì§‘ë‹¨  subset ì‘ì„± -> prop.test()  -> ê²€ì •í†µê³„ëŸ‰ ë¶„ì„

```R
# IT êµìœ¡ì„¼í„°ì—ì„œ 3ê°€ì§€ êµìœ¡ë°©ë²•ì„ ì ìš©í•˜ì—¬ êµìœ¡ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. 3ê°€ì§€ êµìœ¡ë°©ë²• ì¤‘ ë” íš¨ê³¼ì ì¸ êµìœ¡ë°©ë²•ì„ ì¡°ì‚¬í•˜ê¸° ìœ„í•´ì„œ êµìœ¡ìƒ 150ëª…ì„ ëŒ€ìƒìœ¼ë¡œ ì„¤ë¬¸ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. 
# ì—°êµ¬ê°€ì„¤(H1) : ì„¸ ê°€ì§€ êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì§‘ë‹¨ ê°„ ë§Œì¡±ë¥ ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : ì„¸ ê°€ì§€ êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì§‘ë‹¨ ê°„ ë§Œì¡±ë¥ ì— ì°¨ì´ê°€ ì—†ë‹¤.

> data <- read.csv("./data/three_sample.csv", header=TRUE)
> head(data)
  no method survey score
1  1      1      1   3.2
2  2      2      0    NA
3  3      3      1   4.7
4  4      1      0    NA
5  5      2      1   7.8
6  6      3      1   5.4

> str(data) # method(êµìœ¡ë°©ë²•: 1,2,3), ê´€ì¸¡ì¹˜ 150
'data.frame':	150 obs. of  4 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ method: int  1 2 3 1 2 3 1 2 3 1 ...
 $ survey: int  1 0 1 0 1 1 0 0 1 0 ...
 $ score : num  3.2 NA 4.7 NA 7.8 5.4 NA 8.4 4.4 2.8 ...
 
> method <- data$method
> survey <- data$survey

> table(method, useNA="ifany")
method
 1  2  3 
50 50 50 

> table(method, survey, useNA="ifany") # êµì°¨ë¶„í• í‘œí‘œ
      survey
method  0  1
     1 16 34
     2 13 37
     3 11 39

# prop.test((êµìœ¡ë°©ë²•ì— ëŒ€í•œ ë§Œì¡± ë¹ˆë„ìˆ˜), (ë³€ëŸ‰ì˜ ê¸¸ì´))
> prop.test(c(34, 37, 39), c(50, 50, 50), alter="two.sided", conf.level=0.95)

	3-sample test for equality of proportions without
	continuity correction

data:  c(34, 37, 39) out of c(50, 50, 50)
X-squared = 1.2955, df = 2, p-value = 0.5232
alternative hypothesis: two.sided
sample estimates:
prop 1 prop 2 prop 3 
  0.68   0.74   0.78 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-valueì˜ ê°’ì€ 0.5232ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ë¯€ë¡œ ì„¸ êµìœ¡ë°©ë²• ê°„ì˜ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ì—†ë‹¤. (ê·€ë¬´ê°€ì„¤ ì±„íƒ) X-squared ê²€ì • í†µê³„ëŸ‰ 1.2955ëŠ” df 2ì˜ ê¸°ê°ê°’ì€ 5.991ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ì—†ë‹¤. ë§Œì¡±ë„ ë¹„ìœ¨ 68%, 74%, 78%
```



#### 2) ë¶„ì‚° ë¶„ì„ (F ê²€ì •)

> ë¶„ì‚°ë¶„ì„(ANOVA  Analysis)-  T ê²€ì •ê³¼ ë™ì¼í•˜ê²Œ í‰ê· ì— ì˜í•œ ì°¨ì´ ê²€ì • ë°©ë²•

- ë‘ ì§‘ë‹¨ ì´ìƒì˜ í‰ê·  ì°¨ì´ë¥¼ ê²€ì •
  - ì˜ˆ) ì˜í•™ì—°êµ¬ ë¶„ì•¼ì—ì„œ ê°œë°œëœ 3ê°€ì§€ ì¹˜ë£Œì œê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ, ì´ 3ê°€ì§€ ì¹˜ë£Œì œì˜ íš¨ê³¼ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •

- ë¶„ì‚°ë¶„ì„ì€ ê°€ì„¤ ê²€ì •ì„ ìœ„í•´ F ë¶„í¬ë¥¼ ë”°ë¥¸ F í†µê³„ëŸ‰ì„  ê²€ì • í†µê³„ëŸ‰ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— Fê²€ì •ì´ë¼ê³  í•œë‹¤.

- ë°ì´í„° ì „ì²˜ë¦¬ -> ê° ì§‘ë‹¨ subset ì‘ì„± -> ê¸°ìˆ  í†µê³„ëŸ‰(í‰ê· )  ->  ë™ì§ˆì„±ë¶„í¬ (barlett.test()) -> aov() ë˜ëŠ” kruskal.test() -> TukeyHSD()
- ë¶„ì‚°ë¶„ì„ì—ì„œ ì§‘ë‹¨ ê°„ì˜ ë™ì§ˆì„± ì—¬ë¶€ë¥¼ ê²€ì •í•˜ê¸° ìœ„í•´ì„œëŠ” bartlett.test()ë¥¼ ì´ìš©
- ì§‘ë‹¨ ê°„ì˜ ë¶„í¬ê°€ ë™ì§ˆí•œ ê²½ìš° ë¶„ì‚°ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ”  aov() í•¨ìˆ˜ë¥¼ ì´ìš©
- ë¹„ëª¨ìˆ˜ ê²€ì • ë°©ë²•ì¸ kruskal.test() ë¥¼ ì´ìš©í•˜ì—¬ ë¶„ì„ì„ ìˆ˜í–‰í•˜ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ TukeyHSD() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬í›„ ê²€ì •ì„ ìˆ˜í–‰í•œë‹¤

```R
#### ì„¸ ì§‘ë‹¨ì˜ í‰ê·  ì°¨ì´ ë¶„ì„ ####
# ì—°êµ¬ê°€ì„¤(H1) : êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì„¸ ì§‘ë‹¨ ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì„¸ ì§‘ë‹¨ ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ì—†ë‹¤.
# ì„¸ ê°€ì§€ êµìœ¡ë°©ë²•ì„ ì ìš©í•˜ì—¬ 1ê°œì›” ë™ì•ˆ êµìœ¡ë°›ì€ êµìœ¡ìƒ ê° 50ëª…ì”©ì„ ëŒ€ìƒìœ¼ë¡œ ì‹¤ê¸°ì‹œí—˜ì„ ì‹¤ì‹œí•˜ì˜€ë‹¤. ì„¸ ì§‘ë‹¨ ê°„ ì‹¤ê¸°ì‹œí—˜ì˜ í‰ê· ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê²€ì •í•œë‹¤.

> data <- read.csv("./data/three_sample.csv", header=TRUE)
> head(data)
  no method survey score
1  1      1      1   3.2
2  2      2      0    NA
3  3      3      1   4.7
4  4      1      0    NA
5  5      2      1   7.8
6  6      3      1   5.4
> str(data) # method, score
'data.frame':	150 obs. of  4 variables:
 $ no    : int  1 2 3 4 5 6 7 8 9 10 ...
 $ method: int  1 2 3 1 2 3 1 2 3 1 ...
 $ survey: int  1 0 1 0 1 1 0 0 1 0 ...
 $ score : num  3.2 NA 4.7 NA 7.8 5.4 NA 8.4 4.4 2.8 ...


> data <- subset(data, !is.na(score), c(method, score)) # ê²°ì¸¡ì¹˜ ì œê±°
> head(data)
  method score
1      1   3.2
3      3   4.7
5      2   7.8
6      3   5.4
8      2   8.4
9      3   4.4

# ì´ìƒì¹˜ ì¡´ì¬ í™•ì¸(ë°ì´í„° ë¶„í¬ í˜„í™© ë¶„ì„)
> plot(data$score) # ì‚°ì ë„
> barplot(data$score)
> mean(data$score)  # ëŒì¶œëœ ì• ë“¤ì´ ì´ìƒì¹˜ì„
[1] 14.44725
```

![6](190919%20R%20Statistics.assets/6.JPG)

![7](190919%20R%20Statistics.assets/7.JPG)

```R
> length(data$score)
[1] 91  # ì´ìƒì¹˜ ì œê±° ì „ ë°ì´í„° ê°œìˆ˜

> data2 <- subset(data, score<=14)  # í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ì´ìƒì¹˜ ì œê±°
> length(data2$score)
[1] 88  # ì´ìƒì¹˜ ì œê±° í›„ ë°ì´í„° ê°œìˆ˜

> x <- data2$score
> boxplot(x) # ì •ì œê°€ ëë‚œ ë°ì´í„°ë¥¼ ë°•ìŠ¤í”Œë¡¯ìœ¼ë¡œ í™•ì¸
```

![8](190919%20R%20Statistics.assets/8.JPG)

```R
# êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì„¸ ì§‘ë‹¨ì˜ subset ìƒì„±
> data2$method2[data2$method==1] <- "ë°©ë²•1"
> data2$method2[data2$method==2] <- "ë°©ë²•2"
> data2$method2[data2$method==3] <- "ë°©ë²•3"

# êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ë¹ˆë„ìˆ˜
> table(data2$method2)
ë°©ë²•1 ë°©ë²•2 ë°©ë²•3 
   31    27    30 
> mCnt <- table(data2$method2)
> mAvg <- tapply(data2$score, data2$method2, mean)

# ë°ì´í„° í”„ë ˆì„ ìƒì„±
> df <- data.frame(êµìœ¡ë°©ë²•=mCnt, ì„±ì =mAvg)
> df
      êµìœ¡ë°©ë²•.Var1 êµìœ¡ë°©ë²•.Freq     ì„±ì 
ë°©ë²•1         ë°©ë²•1            31 4.187097
ë°©ë²•2         ë°©ë²•2            27 6.800000
ë°©ë²•3         ë°©ë²•3            30 5.610000

# ì„¸ ì§‘ë‹¨ì˜ ë™ì§ˆì„± ê²€ì •
# bartlett.test(ì¢…ì†ë³€ìˆ˜ ~ ë…ë¦½ë³€ìˆ˜, data=ë°ì´í„°ì…‹)
> bartlett.test(score ~ method, data=data2)

	Bartlett test of homogeneity of variances

data:  score by method
Bartletts K-squared = 3.3157, df = 2, p-value = 0.1905

#### í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-valueì˜ ê°’ì€ 0.1905ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ë¯€ë¡œ ì„¸ ì§‘ë‹¨ê°„ ë¶„í¬ í˜•íƒœê°€ ë™ì§ˆì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.



# ì„¸ ì§‘ë‹¨ì˜ í‰ê·  ì°¨ì´ ê²€ì • : (ë¶„í¬ í˜•íƒœê°€ ë™ì§ˆì ì´ê¸° ë•Œë¬¸ì—) aov() í•¨ìˆ˜ ì‚¬ìš©
# aov(ì¢…ì†ë³€ìˆ˜~ë…ë¦½ë³€ìˆ˜, data = ë°ì´í„°ì…‹)
> result <- aov(score~method2, data=data2)
> names(result) # ê²€ì •ê²°ê³¼ì— í•´ë‹¹í•˜ëŠ” ì¸¡ì •ë³€ìˆ˜ëª… í™•ì¸
 [1] "coefficients"  "residuals"     "effects"       "rank"          "fitted.values"
 [6] "assign"        "qr"            "df.residual"   "contrasts"     "xlevels"      
[11] "call"          "terms"         "model"

> summary(result)
            Df Sum Sq Mean Sq F value   Pr(>F)    
method2      2  99.37   49.68   43.58 9.39e-14 ***
Residuals   85  96.90    1.14                     
---
Signif. codes:  0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1

#### í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-valueì˜ ê°’ì€ 9.39e-14ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë–„ë¬¸ì— ì„¸ ì§‘ë‹¨ê°„ ì‹¤ê¸°ì‹œí—˜ í‰ê· ì— ì°¨ì´ê°€ ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. (ì—°êµ¬ê°€ì„¤ ì±„íƒ)
# F ê²€ì • í†µê³„ëŸ‰ 43.58ì´ -1.96 ~ +1.96 ë²”ìœ„ì¸ ê·€ë¬´ê°€ì„¤ì˜ ì±„íƒì—­ì— í•´ë‹¹ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ìˆë‹¤. (ì—°êµ¬ê°€ì„¤ ì±„íƒ)


# ì„¸ ì§‘ë‹¨ì˜ í‰ê· ì˜ ì°¨ì— ëŒ€í•œ ë¹„êµ => ì‚¬í›„ê²€ì • ìˆ˜í–‰
> TukeyHSD(result) # ë¶„ì‚°ë¶„ì„ ê²°ê³¼ë¡œ ì‚¬í›„ ê²€ì •
  Tukey multiple comparisons of means
    95% family-wise confidence level

Fit: aov(formula = score ~ method2, data = data2)

$method2
                 diff        lwr        upr     p adj
ë°©ë²•2-ë°©ë²•1  2.612903  1.9424342  3.2833723 0.0000000
ë°©ë²•3-ë°©ë²•1  1.422903  0.7705979  2.0752085 0.0000040
ë°©ë²•3-ë°©ë²•2 -1.190000 -1.8656509 -0.5143491 0.0001911

# diff í­(í‰ê· ì˜ ì°¨ì´)ì˜ í¬ê¸°
> plot(TukeyHSD(result))
# lwr, uprì€ ì‹ ë¢°êµ¬ê°„ì˜ í•˜í•œê°’ê³¼ ìƒí•œê°’
# ë°©ë²•2ì™€ ë°©ë²•1ì˜ ì°¨ì´ê°€ ê°€ì¥ í¬ë‹¤.

# ê²°ë¡  : êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ì„¸ ì§‘ë‹¨ ê°„ì˜ ì‹¤ê¸°ì‹œí—˜ í‰ê· ì— ì°¨ì´ê°€ ìˆìœ¼ë©°, ì„¸ êµìœ¡ë°©ë²•ì— ë”°ë¥¸ ë¶„ì„ ê²°ê³¼ ë°©ë²•2ì™€ ë°©ë²•1ì˜ ì°¨ì´ê°€ ê°€ì¥ í¬ë‹¤.
```

![9](190919%20R%20Statistics.assets/9.JPG)





### 5. ì—°ìŠµë¬¸ì œ

#### 1) ì—°ìŠµë¬¸ì œ 1

```R
# Q> ì¤‘ì†Œê¸°ì—…ì—ì„œ ìƒì‚°í•œ HDTV íŒë§¤ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ì„œ í”„ë¡œëª¨ì…˜ì„ ì§„í–‰í•œ ê²°ê³¼ ê¸°ì¡´ êµ¬ë§¤ë¹„ìœ¨ ë³´ë‹¤ 15% í–¥ìƒë˜ì—ˆëŠ”ì§€ë¥¼ ê° ë‹¨ê³„ë³„ë¡œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì—¬ ê²€ì •í•˜ì‹œì˜¤.
# ì—°êµ¬ê°€ì„¤(H1) : ê¸°ì¡´ êµ¬ë§¤ë¹„ìœ¨ê³¼ ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤(H0) : ê¸°ì¡´ êµ¬ë§¤ë¹„ìœ¨ê³¼ ì°¨ì´ê°€ ì—†ë‹¤.
# ì¡°ê±´) êµ¬ë§¤ì—¬ë¶€ ë³€ìˆ˜ : buy (1: êµ¬ë§¤í•˜ì§€ ì•ŠìŒ, 2: êµ¬ë§¤)

### ë‹¨ê³„ 1: ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
> hdtv <- read.csv("./data/hdtv.csv", header=TRUE)

### ë‹¨ê³„2: ë¹ˆë„ìˆ˜ì™€ ë¹„ìœ¨ ê³„ì‚°
> summary(hdtv)
    user.id           buy     
 Min.   : 1.00   Min.   :1.0  
 1st Qu.:13.25   1st Qu.:1.0  
 Median :25.50   Median :1.0  
 Mean   :25.50   Mean   :1.2  
 3rd Qu.:37.75   3rd Qu.:1.0  
 Max.   :50.00   Max.   :2.0  
> length(hdtv$buy) # 50ê°œ
[1] 50

> install.packages('prettyR')
> library(prettyR) # freq() í•¨ìˆ˜ ì‚¬ìš©

> freq(hdtv$buy) # 1:40, 2:10
Frequencies for hdtv$buy 
        1    2   NA
       40   10    0
%      80   20    0 
%!NA   80   20 

> table(hdtv$buy)
 1  2 
40 10 

> table(hdtv$buy, useNA="ifany") # NA ë¹ˆë„ìˆ˜ í‘œì‹œ
 1  2 
40 10 


### ë‹¨ê³„3: ê°€ì„¤ê²€ì •
> binom.test(c(10,40), p=0.15) #15% ë¹„êµ -> p-value = 0.321
	Exact binomial test
data:  c(10, 40)
number of successes = 10, number of trials = 50, p-value = 0.321
alternative hypothesis: true probability of success is not equal to 0.15
95 percent confidence interval:
 0.1003022 0.3371831
sample estimates:
probability of success 
                   0.2 

> binom.test(c(10,40), p=0.15, alternative="two.sided", conf.level=0.95)
	Exact binomial test
data:  c(10, 40)
number of successes = 10, number of trials = 50, p-value = 0.321
alternative hypothesis: true probability of success is not equal to 0.15
95 percent confidence interval:
 0.1003022 0.3371831
sample estimates:
probability of success 
                   0.2 
# í•´ì„¤: ê·€ë¬´ê°€ì„¤ ì±„íƒ => ê¸°ì¡´ êµ¬ë§¤ë¹„ìœ¨(15%)ê³¼ ì°¨ì´ê°€ ì—†ë‹¤.


# ë°©í–¥ì„±ì´ ìˆëŠ” ë‹¨ì¸¡ê°€ì„¤ ê²€ì •
> binom.test(c(10,40), p=0.15, alternative="greater", conf.level=0.95)
	Exact binomial test
data:  c(10, 40)
number of successes = 10, number of trials = 50, p-value = 0.2089
alternative hypothesis: true probability of success is greater than 0.15
95 percent confidence interval:
 0.1127216 1.0000000
sample estimates:
probability of success 
                   0.2 
# p-value=0.2089

> binom.test(c(10,40), p=0.15, alternative="less", conf.level=0.95) 
	Exact binomial test
data:  c(10, 40)
number of successes = 10, number of trials = 50, p-value = 0.8801
alternative hypothesis: true probability of success is less than 0.15
95 percent confidence interval:
 0.0000000 0.3155961
sample estimates:
probability of success 
                   0.2 
# p-value =0.8801
# í•´ì„¤ : ë°©í–¥ì„±ì´ ìˆëŠ” ë‹¨ì¸¡ê°€ì„¤ì€ ëª¨ë‘ ê¸°ê°ëœë‹¤.


# 11% ê¸°ì¤€ : ë°©í–¥ì„±ì´ ìˆëŠ” ì—°êµ¬ê°€ì„¤ ê²€ì •
> binom.test(c(10,40), p=0.11, alternative="greater", conf.level=0.95)
	Exact binomial test
data:  c(10, 40)
number of successes = 10, number of trials = 50, p-value =
0.04345
alternative hypothesis: true probability of success is greater than 0.11
95 percent confidence interval:
 0.1127216 1.0000000
sample estimates:
probability of success 
                   0.2 
# p-value=0.04345
# í•´ì„¤ : êµ¬ë§¤ë¹„ìœ¨ì€ 11%ì„ ë„˜ì§€ ëª»í•œë‹¤.
```



#### 2) ì—°ìŠµë¬¸ì œ 2

```R
# Q> ìš°ë¦¬ë‚˜ë¼ ì „ì²´ ì¤‘í•™êµ 2í•™ë…„ ì—¬í•™ìƒ í‰ê·  í‚¤ê°€ 148.5cmë¡œ ì•Œë ¤ì ¸ ìˆëŠ” ìƒíƒœì—ì„œ Aì¤‘í•™êµ 2í•™ë…„ ì „ì²´ 500ëª…ì„ ëŒ€ìƒìœ¼ë¡œ 10%ì¸ 50ëª…ì„ í‘œë³¸ìœ¼ë¡œ ì„ ì •í•˜ì—¬ í‘œë³¸í‰ê· ì‹ ì¥ì„ ê³„ì‚°í•˜ê³  ëª¨ì§‘ë‹¨ì˜ í‰ê· ê³¼ ì°¨ì´ê°€ ìˆëŠ”ì§€ë¥¼ ê° ë‹¨ê³„ë³„ë¡œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì—¬ ê²€ì •í•˜ì‹œì˜¤.
# ì—°êµ¬ê°€ì„¤ : ëª¨ì§‘ë‹¨ì˜ í‰ê·  ì‹ ì¥ê³¼ í‘œë³¸í‰ê· ì‹ ì¥ì€ ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤ : ëª¨ì§‘ë‹¨ì˜ í‰ê·  ì‹œì¥ê³¼ í‘œë³¸í‰ê· ì‹ ì¥ì€ ì°¨ì´ê°€ ì—†ë‹¤.

> height <- read.csv("./data/student_height.csv", header=TRUE)
> head(height)
  sudent.id height
1         1    148
2         2    150
3         3    149
4         4    144
5         5    152
6         6    150

### ë‹¨ê³„1 : ê¸°ìˆ  í†µê³„ëŸ‰ í‰ê·  ê³„ì‚°
> x <- height$height
> summary(x)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  140.0   147.0   150.0   149.4   151.0   165.0 
# í‰ê·  : 149.4 => ê²°ì¸¡ì¹˜ê°€ ì—†ìœ¼ë¯€ë¡œ ê·¸ëŒ€ë¡œ ì‚¬ìš©!


### ë‹¨ê³„2 : ì •ê·œì„± ê²€ì •
> shapiro.test(x)
	Shapiro-Wilk normality test
data:  x
W = 0.88711, p-value = 0.0001853
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.0001853ìœ¼ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— xê°ì²´ì˜ ë°ì´í„° ë¶„í¬ëŠ” ì •ê·œë¶„í¬ë¥¼ ë”°ë¥´ì§€ ì•ŠëŠ”ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.


### ë‹¨ê³„3 : ê°€ì„¤ ê²€ì •
> t.test(x, mu=148.5)
	One Sample t-test
data:  x
t = 1.577, df = 49, p-value = 0.1212
alternative hypothesis: true mean is not equal to 148.5
95 percent confidence interval:
 148.2531 150.5469
sample estimates:
mean of x 
    149.4 

> t.test(x, mu=148.5, alter="two.side", conf.level=0.95)
	One Sample t-test
data:  x
t = 1.577, df = 49, p-value = 0.1212
alternative hypothesis: true mean is not equal to 148.5
95 percent confidence interval:
 148.2531 150.5469
sample estimates:
mean of x 
    149.4 

# í•´ì„1 : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.1212 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ ì±„íƒ
# í•´ì„2 : xì˜ í‰ê· ì€ 149.4(ì ì¶”ì •)ëŠ” ì‹ ë¢°êµ¬ê°„ì— í¬í•¨ë˜ê³  ëª¨ì§‘ë‹¨ì˜ í‰ê· ì‹ ì¥ 148.5ë„ ì‹ ë¢°êµ¬ê°„ì— í¬í•¨ë˜ë¯€ë¡œ ê·€ë¬´ê°€ì„¤ì´ ì±„íƒëœë‹¤.
```



#### 3) ì—°ìŠµë¬¸ì œ 3

```R
# Q> ëŒ€í•™ì— ì§„í•™í•œ ë‚¨í•™ìƒê³¼ ì—¬í•™ìƒì„ ëŒ€ìƒìœ¼ë¡œ ì§„í•™í•œ ëŒ€í•™ì— ëŒ€í•´ì„œ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ìˆëŠ”ê°€ë¥¼ ê²€ì •í•˜ì‹œì˜¤. (ë‘ ì§‘ë‹¨ ë¹„ìœ¨ ì°¨ì´ ê²€ì •)
# ì—°êµ¬ê°€ì„¤ : ì„±ë³„ì— ë”°ë¼ ì§„í•™í•œ ëŒ€í•™ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ìˆë‹¤.
# ê·€ë¬´ê°€ì„¤ : ì„±ë³„ì— ë”°ë¼ ì§„í•™í•œ ëŒ€í•™ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ì—†ë‹¤.
> sample <- read.csv("./data/two_sample.csv")
> head(sample)
  no gender method survey score
1  1      1      1      1   5.1
2  2      1      1      0   5.2
3  3      1      1      1   4.7
4  4      2      1      0   4.8
5  5      1      1      1   5.0
6  6      1      1      1   5.4
 
> x <- sample$gender
> y <- sample$survey
> length(x) # NA ì—†ìŒ
[1] 300
> length(y) # NA ì—†ìŒ
[1] 300

> table(x)
x
  1   2 
174 126 
> table(y)
y
  0   1 
 55 245 

# êµì°¨ë¶„ì„ì„ ìœ„í•œ êµì°¨ë¶„í• í‘œ ìƒì„±
> table(x, y, useNA="ifany")
   y
x     0   1
  1  36 138
  2  19 107

# ë‘ ì§‘ë‹¨ì˜ ë§Œì¡±ë„ ì°¨ì´ ë¹„ìœ¨ ê²€ì •
> prop.test(c(138, 107), c(174, 126))
	2-sample test for equality of proportions with continuity
	correction
data:  c(110, 135) out of c(150, 150)
X-squared = 12.824, df = 1, p-value = 0.0003422
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.25884941 -0.07448392
sample estimates:
   prop 1    prop 2 
0.7333333 0.9000000 


> prop.test(c(138, 107), c(174, 126))
	2-sample test for equality of proportions with continuity
	correction
data:  c(138, 107) out of c(174, 126)
X-squared = 1.1845, df = 1, p-value = 0.2765
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.14970179  0.03749599
sample estimates:
   prop 1    prop 2 
0.7931034 0.8492063 

> prop.test(c(138, 107), c(174, 126), alter="two.sided", conf.level=0.95)
	2-sample test for equality of proportions with continuity
	correction
data:  c(138, 107) out of c(174, 126)
X-squared = 1.1845, df = 1, p-value = 0.2765
alternative hypothesis: two.sided
95 percent confidence interval:
 -0.14970179  0.03749599
sample estimates:
   prop 1    prop 2 
0.7931034 0.8492063 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.2765ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í¬ê¸° ë•Œë¬¸ì— ì„±ë³„ì— ë”°ë¥¸ ëŒ€í•™ì§„í•™ ë§Œì¡±ë„ì— ì°¨ì´ê°€ ì—†ë‹¤. (ê·€ë¬´ê°€ì„¤ ì±„íƒ) ê²€ì • í†µê³„ëŸ‰ X-squaredë¡œ ê°€ì„¤ ê²€ì •ì„ ìˆ˜í–‰í•˜ë©´ dfê°€ 1ì¼ë•Œ ê¸°ê°ì—­ì€ 3.84ì´ê³  X-squared 1.1845ê°€ ë” ì‘ê¸° ë•Œë¬¸ì— ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°í•  ìˆ˜ ì—†ë‹¤.
```



#### 4) ì—°ìŠµë¬¸ì œ 4

```R
# Q> êµìœ¡ë°©ë²•ì— ë”°ë¼ ì‹œí—˜ì„±ì ì— ì°¨ì´ê°€ ìˆëŠ”ì§€ ê²€ì •í•˜ì‹œì˜¤.(ë‘ ì§‘ë‹¨ í‰ê·  ì°¨ì´ ê²€ì •)

> data <- read.csv("./data/twomethod.csv")
> head(data)
  id method score
1  1      1    27
2  2      1     5
3  3      1    21
4  4      1    NA
5  5      1    14
6  6      1    23

> summary(data) # ê²°ì¸¡ì¹˜ 6ê°œ
       id           method          score      
 Min.   : 1.0   Min.   :1.000   Min.   : 5.00  
 1st Qu.:16.5   1st Qu.:1.000   1st Qu.:18.00  
 Median :32.0   Median :2.000   Median :26.00  
 Mean   :32.0   Mean   :1.619   Mean   :24.28  
 3rd Qu.:47.5   3rd Qu.:2.000   3rd Qu.:31.00  
 Max.   :63.0   Max.   :2.000   Max.   :45.00  
                                NAs   :6  


# ê²°ì¸¡ì¹˜ ì œê±°
> result <- subset(data, !is.na(score), c(method, score))
> head(result)
  method score
1      1    27
2      1     5
3      1    21
5      1    14
6      1    23
7      1    20

> a <- subset(result, method==1)
> b <- subset(result, method==2)
> ascore <- a$score
> bscore <- b$score


# ê¸°ìˆ í†µê³„ëŸ‰(í‰ê· )
> length(ascore)
[1] 22
> length(bscore)
[1] 35
> mean(ascore)
[1] 16.40909
> mean(bscore)
[1] 29.22857

# ë¶„ì‚°ì˜ ë™ì§ˆì„± ê²€ì • 

> var.test(ascore, bscore)

	F test to compare two variances

data:  ascore and bscore
F = 1.0648, num df = 21, denom df = 34, p-value = 0.8494
alternative hypothesis: true ratio of variances is not equal to 1
95 percent confidence interval:
 0.502791 2.427170
sample estimates:
ratio of variances 
           1.06479 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 0.8494 ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° í¬ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ ê°„ì˜ ë¶„í¬ í˜•íƒœê°€ ë™ì¼í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.


# ë‘ ì§‘ë‹¨ í‰ê·  ì°¨ì´ ê²€ì •
> t.test(ascore, bscore)

	Welch Two Sample t-test

data:  ascore and bscore
t = -5.6056, df = 43.705, p-value = 1.303e-06
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -17.429294  -8.209667
sample estimates:
mean of x mean of y 
 16.40909  29.22857 

> t.test(ascore, bscore, alter="two.sided", conf.int=TRUE, conf.level=0.95)

	Welch Two Sample t-test

data:  ascore and bscore
t = -5.6056, df = 43.705, p-value = 1.303e-06  # 0.000001303
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -17.429294  -8.209667
sample estimates:
mean of x mean of y 
 16.40909  29.22857 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 1.303e-06ìœ¼ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë•Œë¬¸ì— ë‘ ì§‘ë‹¨ê°„ì˜ í‰ê· ì— ì°¨ì´ê°€ í¬ë‹¤.


# ë‹¨ì¸¡ ê°€ì„¤ ê²€ì • (ascoreë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµ -> ascoreë³´ë‹¤ bscoreê°€ ë” í°ì§€ ì—¬ë¶€)
> t.test(ascore, bscore, alter="greater", conf.int=TRUE, conf.level=0.95)

	Welch Two Sample t-test

data:  ascore and bscore
t = -5.6056, df = 43.705, p-value = 1
alternative hypothesis: true difference in means is greater than 0
95 percent confidence interval:
 -16.66255       Inf
sample estimates:
mean of x mean of y 
 16.40909  29.22857 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 1ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ í›¨ì”¬ í¬ê¸° ë•Œë¬¸ì— ë°©ë²•1ë³´ë‹¤ ë°©ë²•2ì¸ ê²½ìš° ì‹œí—˜ì„±ì  í‰ê· ì´ ë” í¬ë‹¤.


> t.test(ascore, bscore, alter="less", conf.int=TRUE, conf.level=0.95)

	Welch Two Sample t-test

data:  ascore and bscore
t = -5.6056, df = 43.705, p-value = 6.513e-07
alternative hypothesis: true difference in means is less than 0
95 percent confidence interval:
      -Inf -8.976413
sample estimates:
mean of x mean of y 
 16.40909  29.22857 
# í•´ì„ : ê²€ì • í†µê³„ëŸ‰ p-value ê°’ì€ 6.513e-07ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ë§¤ìš° ì‘ê¸° ë•Œë¬¸ì— ë°©ë²•1ì¸ ê²½ìš° ë°©ë²•2ì¸ ê²½ìš°ë³´ë‹¤ ì‹œí—˜ ì„±ì  í‰ê· ì´ ë” ë‚®ë‹¤.
```



## III. ìš”ì¸ë¶„ì„, ìƒê´€ê´€ê³„ ë¶„ì„

- ìš”ì¸ ë¶„ì„  : ë³€ìˆ˜ë“¤ì˜ ìƒê´€ì„±ì„ ë°”íƒ•ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì •ì œí•˜ì—¬ ìƒê´€ê´€ê³„ ë¶„ì„ì´ë‚˜ íšŒê·€ë¶„ì„ì— ì„¤ëª…ë³€ìˆ˜(ë…ë¦½ë³€ìˆ˜)ë¡œ ì‚¬ìš©ëœë‹¤.

- ìƒê´€ ë¶„ì„  : ìš”ì¸ë¶„ì„ ê³¼ì •ì—ì„œ ë³€ìˆ˜ë“¤ì´ ìƒê´€ê´€ê³„ë¥¼ ë¶„ì„í•˜ì—¬ ë³€ìˆ˜ ê°„ì˜ ê´€ë ¨ì„±ì„ ë¶„ì„í•˜ëŠ”ë° ì´ìš©

- íšŒê·€ ë¶„ì„  : ì¸ê³¼ê´€ê³„ë¥¼ ë¶„ì„í•˜ëŠ”ë° ì¤‘ìš”í•œ ìë£Œë¥¼ ì œê³µ



### 1. ìš”ì¸ ë¶„ì„ (Factor Analysis)

- ë‹¤ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë³€ìˆ˜ê°„ì˜ ê´€ê³„ë¥¼ ë¶„ì„í•˜ì—¬ ê³µí†µì°¨ì›ìœ¼ë¡œ ì¶•ì•½í•˜ëŠ” í†µê³„ê¸°ë²•

- ë°ì´í„°ë¥¼ ì¶•ì†Œí•˜ëŠ” ë³€ìˆ˜ì˜ ì •ì œ ê³¼ì •

- ì—¬ëŸ¬ ê°€ì§€ í•­ëª©ë“¤ì„ ë¹„ìŠ·í•œ í•­ëª©ìœ¼ë¡œ ë¬¶ëŠ” ê²ƒìœ¼ë¡œ ì—¬ëŸ¬ ë³€ìˆ˜ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ” ìƒí˜¸ê´€ê³„ë¥¼ ë¶„ì„í•˜ì—¬ íƒ€ë‹¹ì„±ì„ ê²€ì •í•˜ê³ , ê³µí†µìœ¼ë¡œ ì†í•´ìˆëŠ” ì°¨ì›ì´ë‚˜ ìš”ì¸ë“¤ì„ ë°í˜€ëƒ„ìœ¼ë¡œì¨ ë³€ìˆ˜ë¥¼ ì¶•ì†Œí•˜ëŠ” ê³¼ì •

#### 1) ìš”ì¸ë¶„ì„ ë°©ë²•

- íƒìƒ‰ì  ìš”ì¸ë¶„ì„ â€“ ìš”ì¸ë¶„ì„ì„ í•  ë•Œ ì‚¬ì „ì— ì–´ë˜ ë³€ìˆ˜ë¼ë¦¬ ë¬¶ì–´ì•¼ í•œë‹¤ëŠ” ì „ì œë¥¼ ë‘ì§€ ì•Šê³  ë¶„ì„í•˜ëŠ” ë°©ë²•

- í™•ì¸ì  ìš”ì¸ ë¶„ì„ â€“ ì‚¬ì „ì— ë¬¶ì¼ ê²ƒìœ¼ë¡œ ê¸°ëŒ€ë˜ëŠ” í•­ëª©ë¼ë¦¬ ë¬¶ì—¬ ì§€ëŠ”ì§€ë¥¼ ì¡°ì‚¬í•˜ëŠ” ë°©ë²•  

#### 2) íƒ€ë‹¹ì„±  

- ì¸¡ì • ë„êµ¬ê°€ ì¸¡ì •í•˜ê³ ì í•˜ëŠ” ê²ƒì„ ì •í™•íˆ ì¸¡ì •í•  ìˆ˜ ìˆëŠ” ì •ë„ë¥¼ ì˜ë¯¸

- í†µê³„ëŸ‰ ê²€ì • ì´ì „ì— êµ¬ì„± íƒ€ë‹¹ì„±(Construct validity)  ê²€ì¦ì„ ìœ„í•´ì„œ ìš”ì¸ë¶„ì„ì„ ì‹¤ì‹œí•œë‹¤

#### 3) ìš”ì¸ ë¶„ì„ ì „ì œì¡°ê±´ 

- í•˜ìœ„ìš”ì¸ìœ¼ë¡œ êµ¬ì„±ë˜ëŠ” ë°ì´í„° ì…‹ì´ ì¤€ë¹„ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤

- ë¶„ì„ì— ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜ëŠ” ë“±ê°„ì²™ë„ë‚˜ ë¹„ìœ¨ì²™ë„ì´ì–´ì•¼ í•˜ë©°, í‘œë³¸ì˜ í¬ê¸°ëŠ” ìµœì†Œ 50ê°œ ì´ìƒì´ ë°”ëŒì§í•˜ë‹¤

- ìš”ì¸ë¶„ì„ì€ ìƒê´€ê´€ê³„ê°€ ë†’ì€ ë³€ìˆ˜ë“¤ê¹Œë¦¬ ê·¸ë£¹í™”í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ë³€ìˆ˜ ê°„ì˜ ìƒê´€ê´€ê³„ê°€ ë§¤ìš° ë‚®ë‹¤ë©´ (ë³´í†µ Â±3 ì´í•˜) ê·¸  ìë£ŒëŠ” ìš”ì¸ë¶„ì„ì— ì í•©í•˜ì§€ ì•Šë‹¤

#### 4) ìš”ì¸ ë¶„ì„ (Factor Analysis) ëª©ì 

- ìë£Œì˜ ìš”ì•½ : ë³€ì¸ì„ ëª‡ ê°œì˜ ê³µí†µëœ ë³€ì¸ìœ¼ë¡œ ë¬¶ìŒ

- ë³€ì¸ êµ¬ì¡° íŒŒì•… : ë³€ì¸ë“¤ì˜ ìƒí˜¸ê´€ê³„ íŒŒì•…(ë…ë¦½ì„±ë“±)

- ë¶ˆí•„ìš”í•œ ë³€ì¸ ì œê±° : ì¤‘ìš”ë„ê°€ ë–¨ì–´ì§„ ë³€ìˆ˜ ì œê±°

- ì¸¡ì • ë„êµ¬ íƒ€ë‹¹ì„± ê²€ì¦ : ë³€ì¸ë“¤ì´ ë™ì¼í•œ ìš”ì¸ìœ¼ë¡œ ë¬¶ì´ëŠ”ì§€ í™•ì¸  

#### 5) ìš”ì¸ ë¶„ì„ì— ëŒ€í•œ í™œìš© ë°©ì•ˆ 

- ì¸¡ì • ë„êµ¬ê°€ ì •í™•íˆ ì¸¡ì •í–ˆëŠ”ì§€ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œ ì¸¡ì • ë³€ìˆ˜ë“¤ì´ ë™ì¼í•œ ìš”ì¸ìœ¼ë¡œ ë¬¶ì´ëŠ”ì§€ë¥¼ ê²€ì •í•œë‹¤(íƒ€ë‹¹ì„± ê²€ì •)

- ë³€ìˆ˜ë“¤ì˜ ìƒê´€ê´€ê³„ê°€ ë†’ì€ ê²ƒë¼ë¦¬ ë¬¶ì–´ì„œ ë³€ìˆ˜ë¥¼ ì •ì œí•œë‹¤. (ë³€ìˆ˜ ì¶•ì†Œ)
- ë³€ìˆ˜ì˜ ì¤‘ìš”ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ìš”ì¸ì ì¬ëŸ‰ì´ 0.4 ë¯¸ë§Œì´ë©´ ì„¤ëª…ë ¥ì´ ë¶€ì¡±í•œ ìš”ì¸ìœ¼ë¡œ íŒë‹¨í•˜ì—¬ ì œê±°í•œë‹¤ (ë³€ìˆ˜ ì œê±°)

- ìš”ì¸ë¶„ì„ì—ì„œ ì–»ì–´ì§€ëŠ” ê²°ê³¼ë¥¼ ì´ìš©í•˜ì—¬ ìƒê´€ë¶„ì„ì´ë‚˜ íšŒê·€ë¶„ì„ì˜ ì„¤ëª…ë³€ìˆ˜ë¡œ í™œìš©í•œë‹¤.

#### 6) ê³µí†µìš”ì¸ìœ¼ë¡œ ë³€ìˆ˜ ì •ì œ

- íŠ¹ì • í•­ëª©ìœ¼ë¡œ ë¬¶ì—¬ ì§€ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ìš”ì¸ìˆ˜ ê²°ì •ì€ ì£¼ì„±ë¶„ ë¶„ì„ë°©ë²•ê³¼ ìƒê´€ê³„ìˆ˜ í–‰ë ¬ì„ ì´ìš©í•œ ì´ˆê¸° ê³ ìœ ê°’ì„ ì´ìš©í•œë‹¤.

- ë‹¨ê³„1] ì£¼ì„±ë¶„ ë¶„ì„ : ë³€ë™ëŸ‰(ë¶„ì‚°)ì— ì˜í–¥ì„ ì£¼ëŠ” ì£¼ìš” ì„±ë¶„ì„ ë¶„ì„í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ìš”ì¸ë¶„ì„ì—ì„œ ì‚¬ìš©ë  ìš”ì¸ì˜ ê°œìˆ˜ë¥¼ ê²°ì •í•˜ëŠ”ë° ì£¼ë¡œ ì´ìš©ëœë‹¤.

- ë‹¨ê³„2] ê³ ìœ ê°’ìœ¼ë¡œ ìš”ì¸ìˆ˜ ë¶„ì„ : ê³ ìœ ê°’ì´ë€ ì–´ë–¤ í–‰ë ¬ë¡œë¶€í„° ìœ ë„ë˜ëŠ” ì‹¤ìˆ˜ê°’ì„ ì˜ë¯¸í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë³€í™”ëŸ‰ì˜ (ì´ë¶„ì‚°)ì„ ê¸°ì¤€ìœ¼ë¡œ ìš”ì¸ìˆ˜ë¥¼ ê²°ì •í•˜ëŠ”ë° ì´ìš©ëœë‹¤. 
  - ìƒê´€ê³„ìˆ˜ í–‰ë ¬ì„ ëŒ€ìƒìœ¼ë¡œ ì´ˆê¸° ê³ ìœ ê°’ìœ¼ë¡œ ìš”ì¸ìˆ˜ ë¶„ì„
  - eigen()ì€ ìƒê´€ê³„ìˆ˜ í–‰ë ¬ì„ ëŒ€ìƒìœ¼ë¡œ ì´ˆê¸° ê³ ìœ ê°’ê³¼ ê³ ìœ ë²¡í„°ë¥¼ ê³„ì‚°í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.	

```R
########## ê³µí†µìš”ì¸ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì •ì œí•˜ëŠ” ìš”ì¸ë¶„ì„ ##########
# 6ê°œ ê³¼ëª© (s1~s6)
# ì ìˆ˜ë²¡í„° (5ì  ë§Œì , ì²™ë„:5)
> s1 <- c(1, 2, 1, 2, 3, 4, 2, 3, 4, 5) # ìì—°ê³¼í•™
> s2 <- c(1, 3, 1, 2, 3, 4, 2, 4, 3, 4) # ë¬¼ë¦¬í™”í•™
> s3 <- c(2, 3, 2, 3, 2, 3, 5, 3, 4, 2) # ì¸ë¬¸ì‚¬íšŒ
> s4 <- c(2, 4, 2, 3, 2, 3, 5, 3, 4, 1) # ì‹ ë¬¸ë°©ì†¡
> s5 <- c(4, 5, 4, 5, 2, 1, 5, 2, 4, 3) # ì‘ìš©ìˆ˜í•™
> s6 <- c(4, 3, 4, 4, 2, 1, 5, 2, 4, 2) # ì¶”ë¡ í†µê³„
> name <-1:10  # ê° ê³¼ëª©ì˜ ë¬¸ì œ ì´ë¦„

# ë°ì´í„°í”„ë ˆì„ ìƒì„±
> subject <- data.frame(s1, s2, s3, s4, s5, s6)
> str(subject)
'data.frame':	10 obs. of  6 variables:
 $ s1: num  1 2 1 2 3 4 2 3 4 5
 $ s2: num  1 3 1 2 3 4 2 4 3 4
 $ s3: num  2 3 2 3 2 3 5 3 4 2
 $ s4: num  2 4 2 3 2 3 5 3 4 1
 $ s5: num  4 5 4 5 2 1 5 2 4 3
 $ s6: num  4 3 4 4 2 1 5 2 4 2

# ì£¼ì„±ë¶„ ë¶„ì„ìœ¼ë¡œ ìš”ì¸ìˆ˜ êµ¬í•˜ê¸°
> help(prcomp)  #ì£¼ì„±ë¶„ ë¶„ì„ ìˆ˜í–‰ í•¨ìˆ˜
> pc <- prcomp(subject) # scale = TRUE
> summary(pc) # ë³€ë™ëŸ‰ìœ¼ë¡œ ë³¼ë•Œ ì£¼ì„±ë¶„ ìš”ì¸ìˆ˜ëŠ” 2ê°œë¡œ ê°€ì •í•  ìˆ˜ ìˆë‹¤.
Importance of components:
                         PC1    PC2     PC3     PC4     PC5     PC6
Standard deviation     2.389 1.5532 0.87727 0.56907 0.19315 0.12434
Proportion of Variance 0.616 0.2603 0.08305 0.03495 0.00403 0.00167
Cumulative Proportion  0.616 0.8763 0.95936 0.99431 0.99833 1.00000
> plot(pc)
```

![13](190919%20R%20Statistics.assets/13.JPG)

```R
# ê³ ìœ ê°’ìœ¼ë¡œ ìš”ì¸ìˆ˜ ë¶„ì„
> en <- eigen(cor(subject))  # $values : ê³ ìœ ê°’, $vectors : ê³ ìœ ë²¡í„°
> names(en)
[1] "values"  "vectors"

> en$vectors
           [,1]         [,2]        [,3]       [,4]        [,5]        [,6]
[1,] -0.4062499 -0.351093036  0.63460534  0.3149622  0.45699508  0.03041553
[2,] -0.4319311 -0.400526644  0.11564711 -0.4422216 -0.57042232  0.34452594
[3,]  0.2542077 -0.628807884 -0.06984072  0.3339036 -0.35389906 -0.54622817
[4,]  0.3017115 -0.566028650 -0.37734321 -0.2468016  0.50326085  0.36333366
[5,]  0.4763815  0.008436692  0.58035475 -0.6016209  0.05643527 -0.26654314
[6,]  0.5155637  0.021286661  0.31595023  0.4133867 -0.28995329  0.61559319

> en$values # $values : ê³ ìœ ê°’(ìŠ¤ì¹¼ë¼) ë³´ê¸° 
[1] 3.44393944 1.88761725 0.43123968 0.19932073 0.02624961 0.01163331

> plot(en$values, type="o") # ê³ ìœ ê°’(ìŠ¤ì¹¼ë¼) ë³´ê¸°
# ê³ ìœ ê°’ì´ ê¸‰ê²©í•˜ê²Œ ê°ì†Œí•˜ëŠ” 1~3 ë³€ìˆ˜ 3ê°œë¥¼ ì£¼ì„±ë¶„ ë³€ìˆ˜ë¡œ ê°€ì •í•  ìˆ˜ ìˆë‹¤.
```

![14](190919%20R%20Statistics.assets/14.JPG)



#### 7) ë³€ìˆ˜ê°„ì˜ ìƒê´€ê´€ê³„ ë¶„ì„ê³¼ ìš”ì¸ë¶„ì„

- ë‹¨ê³„1] ìƒê´€ê´€ê³„ ë¶„ì„ â€“ ë³€ìˆ˜ ê°„ì˜ ìƒê´€ì„±ìœ¼ë¡œ ê³µí†µìš”ì¸ ì¶”ì¶œ
- ë‹¨ê³„2] íšŒì „ë²•â€“ ìš”ì¸ì¶•ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

```R
factanal(dataset, factors=ìš”ì¸ìˆ˜, rotation=â€œìš”ì¸íšŒì „ë²•â€œ )
scores =â€œ ìš”ì¸ì ìˆ˜ ê³„ì‚° ë°©ë²•ï¼‚
```

- ìš”ì¸ë¶„ì„ê²°ê³¼ì—ì„œ ë§Œì•½ p-value ê°’ì´ 0.05 ë¯¸ë§Œì´ë©´ ìš”ì¸ìˆ˜ê°€ ë¶€ì¡±í•˜ë‹¤ëŠ” ì˜ë¯¸ë¡œ ìš”ì¸ìˆ˜ë¥¼ ëŠ˜ë ¤ì„œ ë‹¤ì‹œ ë¶„ì„ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.

- Uniqueness í•­ëª©ì€ ìœ íš¨ì„±ì„ íŒë‹¨í•˜ì—¬ ì œì‹œí•œ ê°’ìœ¼ë¡œ í†µìƒ 0.05ì´í•˜ì´ë©´ ìœ íš¨í•œ ê²ƒìœ¼ë¡œ ë³¸ë‹¤.
- Loading í•­ëª©ì€ ìš”ì¸ ì ì¬ê°’(Loadings)ë¥¼ ë³´ì—¬ì£¼ëŠ” í•­ëª©ìœ¼ë¡œ ê° ë³€ìˆ˜ì™€ í•´ë‹¹ ìš”ì¸ ê°„ì˜ ìƒê´€ê´€ê³„ê³„ìˆ˜ë¥¼ ì œì‹œí•œë‹¤.

- ìš”ì¸ ì ì¬ê°’(ìš”ì¸ ë¶€í•˜ëŸ‰)ì´ í†µìƒ +0.4 ì´ìƒì´ë©´ ìœ ì˜í•˜ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.
- +0.4 ë¯¸ë§Œì´ë©´ ì„¤ëª…ë ¥ì´ ë¶€ì¡±í•œ ìš”ì¸(ì¤‘ìš”ë„ê°€ ë‚®ì€ ë³€ìˆ˜)ìœ¼ë¡œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.
- SS loadings í•­ëª©ì€ ê° ìš”ì¸ ì ì¬ê°’ì˜ ì œê³±ì˜ í•©ì„ ì œì‹œí•œ ê°’ìœ¼ë¡œ ê° ìš”ì¸ì˜ ì„¤ëª…ë ¥ì„ ë³´ì—¬ì¤€ë‹¤.
- Proportion Var í•­ëª©ì€ ì„¤ëª…ëœ ìš”ì¸ì˜ ë¶„ì‚° ë¹„ìœ¨ë¡œ ê° ìš”ì¸ì´ ì°¨ì§€í•˜ëŠ” ì„¤ëª…ë ¥ì˜ ë¹„ìœ¨ì´ë‹¤.
- Cumulative Var í•­ëª©ì€ ëˆ„ì  ë¶„ì‚° ë¹„ìœ¨ë¡œ ìš”ì¸ì˜ ë¶„ì‚° ë¹„ìœ¨ì„ ëˆ„ì í•˜ì—¬ ì œì‹œí•œ ê°’ìœ¼ë¡œ ì •ë³´ì†ì‹¤ì´ ë„ˆë¬´ í¬ë©´ ìš”ì¸ë¶„ì„ì˜ ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤.

- ë² ë¦¬ë§¥ìŠ¤ ìš”ì¸íšŒì „ë²•

  - ìš”ì¸ë¶„ì„ì„ ì‹¤ì‹œí•˜ë©´ ìš”ì¸í–‰ë ¬ì´ êµ¬í•´ì§€ëŠ”ë°, ì´ í–‰ë ¬ì€ ì–´ë–¤ ë³€ìˆ˜ë“¤ì´ ì–´ë–¤ ìš”ì¸ì— ì˜í•´ ë†’ê²Œ ê´€ê³„ ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë³´ì—¬ì£¼ì§€ ì•ŠëŠ”ë‹¤.
  - ë”°ë¼ì„œ ìš”ì¸ì¶•ì˜ íšŒì „ì„ í†µí•´ì„œ íŠ¹ì • ë³€ìˆ˜ê°€ ì–´ë–¤ ìš”ì¸ê³¼ ê´€ê³„ê°€ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ì£¼ì–´ì•¼ í•œë‹¤.
  - ìš”ì¸íšŒì „ë²•ì€ ì§ê°íšŒì „ê³¼ ì‚¬ê°íšŒì „ ë°©ì‹ì´ ìˆë‹¤.

  - ì§ê°íšŒì „ ë°©ì‹ì¸ ë² ë¦¬ë©•ìŠ¤(varimax)ëŠ” ìš”ì¸í–‰ë ¬ì˜ ì—´(Column)ì— ìœ„ì¹˜í•œ ë³€ìˆ˜ë“¤ì˜ ë¶„ì‚° í•©ê³„ê°€ ìµœëŒ€í™”ë˜ë„ë¡ ìš”ì¸ ì ì¬ëŸ‰ +1, -1, 0ì— ê°€ê¹ë„ë¡ í•´ì£¼ëŠ” íšŒì „ë²•ìœ¼ë¡œ ê° ìš”ì¸ ê°„ì˜ ìƒê´€ê´€ê³„ê°€ ì—†ë‹¤ê³  ìì •í•œ ê²½ìš° ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì´ë‹¤.

```R
# ë² ë¦¬ë§¥ìŠ¤ ìš”ì¸ íšŒì „ë²•
> result <- factanal(subject, factors=2, rotation="varimax")
> result

Call:
factanal(x = subject, factors = 2, rotation = "varimax")

Uniquenesses:
   s1    s2    s3    s4    s5    s6 
0.250 0.015 0.005 0.136 0.407 0.107 

Loadings:
   Factor1 Factor2
s1  0.862         
s2  0.988         
s3          0.997 
s4 -0.115   0.923 
s5 -0.692   0.338 
s6 -0.846   0.421 

               Factor1 Factor2
SS loadings      2.928   2.152
Proportion Var   0.488   0.359
Cumulative Var   0.488   0.847

Test of the hypothesis that 2 factors are sufficient.
The chi square statistic is 11.32 on 4 degrees of freedom.
The p-value is 0.0232 
# ë² ë¦¬ë§¥ìŠ¤ ìš”ì¸ íšŒì „ë²•ì„ ì ìš©í•˜ì—¬ ìš”ì¸ ë¶„ì„ ìˆ˜í–‰ p-valueëŠ” 0.0232ë¡œ ìœ ì˜ìˆ˜ì¤€ 0.05ë³´ë‹¤ ì ê¸° ë•Œë¬¸ì— ìš”ì¸ìˆ˜ë¡œ ë¶€ì¡±í•˜ë‹¤ëŠ” ì˜ë¯¸


> result <- factanal(subject, factors=3, rotation="varimax" , scores="regression")
> result

Call:
factanal(x = subject, factors = 3, scores = "regression", rotation = "varimax")

Uniquenesses:
   s1    s2    s3    s4    s5    s6 
0.005 0.056 0.051 0.005 0.240 0.005 

Loadings:
   Factor1 Factor2 Factor3
s1 -0.379           0.923 
s2 -0.710   0.140   0.649 
s3  0.236   0.931   0.166 
s4  0.120   0.983  -0.118 
s5  0.771   0.297  -0.278 
s6  0.900   0.301  -0.307 

               Factor1 Factor2 Factor3
SS loadings      2.122   2.031   1.486
Proportion Var   0.354   0.339   0.248
Cumulative Var   0.354   0.692   0.940

The degrees of freedom for the model is 0 and the fit was 0.7745
```

- ìš”ì¸ì ìˆ˜ë¥¼ ì´ìš©í•œ ìš”ì¸ì ì¬ëŸ‰ ì‹œê°í™”

  - ìš”ì¸ë¶„ì„ì—ì„œ ìš”ì¸ì ìˆ˜ëŠ” ê° ê´€ì¸¡ì¹˜(í‘œì¤€í™”ëœ ê°’)ì™€ ìš”ì¸ ê°„ì˜ ê´€ê³„ë¥¼ í†µí•´ì„œ êµ¬í•´ì§„ ì ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤. ê´€ì¸¡ì¹˜ì˜ ê¸¸ì´ì™€ ë™ì¼í•˜ë‹¤.

  - ìš”ì¸ ì ìˆ˜ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” scores ì†ì„±(scores=â€œregressionâ€ : íšŒê·€ë¶„ì„ìœ¼ë¡œ ìš”ì¸ì ìˆ˜ ê³„ì‚°)ì„ ì§€ì •í•´ì•¼ í•œë‹¤.

- ìš”ì¸ë³„ ë³€ìˆ˜ ë¬¶ê¸°

  - ìš”ì¸ë¶„ì„ì„ í†µí•´ì„œ ê° ìš”ì¸ì— ì†í•˜ëŠ” ì…ë ¥ë³€ìˆ˜ë“¤ì„ ë¬¶ì–´ì„œ íŒŒìƒë³€ìˆ˜ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ”ë° ì´ëŸ¬í•œ íŒŒìƒë³€ìˆ˜ëŠ” ìƒê´€ë¶„ì„ì´ë‚˜ íšŒê·€ë¶„ì„ì—ì„œ ë…ë¦½ë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 

  - íŒŒìƒ ë³€ìˆ˜ëŠ” ê°€ë…ì„±ê³¼ ì„¤ë“ë ¥ì´ ê°€ì¥ ë†’ì€ ì‚°ìˆ í‰ê·  ë°©ì‹ì„ ì ìš©í•˜ì—¬ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

  - ë‹¨ê³„1 ] ìš”ì¸ë³„ íŒŒìƒë³€ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë°ì´í„°í”„ë ˆì„ ìƒì„±

  - ë‹¨ê³„2 ] ìš”ì¸ë³„ ì‚°ìˆ í‰ê·  ê³„ì‚°

  - ë‹¨ê³„3 ] ìƒê´€ê´€ê³„ ë¶„ì„